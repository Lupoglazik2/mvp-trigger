{"ast":null,"code":"var _jsxFileName = \"/Users/irina/mvp-trigger/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport ReactFlow, { addEdge, Background, Controls, MiniMap, useEdgesState, useNodesState, Handle, Position, ReactFlowProvider, useReactFlow } from 'reactflow';\nimport NodeInspector from './components/NodeInspector';\nimport SimulationModal from './components/SimulationModal';\nimport StatsTooltip from './components/StatsTooltip';\nimport { saveChain, loadChain, simulate } from './api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialNodes = [{\n  id: 'event1',\n  type: 'event',\n  position: {\n    x: 0,\n    y: 0\n  },\n  data: {\n    label: 'Контакт добавлен',\n    eventType: 'contact_added',\n    listName: 'Newsletter'\n  }\n}, {\n  id: 'action1',\n  type: 'action',\n  position: {\n    x: 250,\n    y: 0\n  },\n  data: {\n    label: 'Ждем 1 день',\n    actionType: 'wait',\n    delayValue: 1,\n    delayUnit: 'days'\n  }\n}, {\n  id: 'cond1',\n  type: 'condition',\n  position: {\n    x: 500,\n    y: -100\n  },\n  data: {\n    label: 'Дата > 2025-08-20',\n    conditionType: 'date',\n    operator: '>',\n    value: '2025-08-20'\n  }\n}, {\n  id: 'action2',\n  type: 'action',\n  position: {\n    x: 750,\n    y: -150\n  },\n  data: {\n    label: 'Отправить письмо',\n    actionType: 'send_email',\n    subject: 'Здравствуйте!',\n    body: 'Добро пожаловать в нашу рассылку.'\n  }\n}, {\n  id: 'stop1',\n  type: 'action',\n  position: {\n    x: 1000,\n    y: -150\n  },\n  data: {\n    label: 'Стоп',\n    actionType: 'stop'\n  }\n}, {\n  id: 'stop2',\n  type: 'action',\n  position: {\n    x: 750,\n    y: 0\n  },\n  data: {\n    label: 'Стоп',\n    actionType: 'stop'\n  }\n}];\nconst initialEdges = [{\n  id: 'e1-2',\n  source: 'event1',\n  target: 'action1'\n}, {\n  id: 'e2-3',\n  source: 'action1',\n  target: 'cond1'\n}, {\n  id: 'e3-4',\n  source: 'cond1',\n  target: 'action2',\n  label: 'yes',\n  data: {\n    path: 'yes'\n  }\n}, {\n  id: 'e4-5',\n  source: 'action2',\n  target: 'stop1'\n}, {\n  id: 'e3-6',\n  source: 'cond1',\n  target: 'stop2',\n  label: 'no',\n  data: {\n    path: 'no'\n  }\n}];\nfunction nodeStyleForType(nodeType) {\n  if (nodeType === 'event') return {\n    borderColor: '#0ea5e9',\n    background: '#e0f2fe'\n  };\n  if (nodeType === 'condition') return {\n    borderColor: '#f59e0b',\n    background: '#fff7ed'\n  };\n  return {\n    borderColor: '#10b981',\n    background: '#ecfdf5'\n  };\n}\nfunction DefaultNode({\n  data,\n  nodeType\n}) {\n  let style = nodeStyleForType(nodeType);\n  if (nodeType === 'action' && ((data === null || data === void 0 ? void 0 : data.actionType) === 'stop' || ((data === null || data === void 0 ? void 0 : data.label) || '').toLowerCase() === 'стоп')) {\n    style = {\n      borderColor: '#ef4444',\n      background: '#fee2e2'\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 8,\n      border: '1px solid ' + style.borderColor,\n      background: style.background,\n      borderRadius: 6,\n      minWidth: 140,\n      textAlign: 'center',\n      fontSize: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(Handle, {\n      type: \"target\",\n      position: Position.Left\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontWeight: 600\n      },\n      children: (data === null || data === void 0 ? void 0 : data.label) || nodeType\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#666',\n        marginTop: 4\n      },\n      children: [nodeType === 'event' && ((data === null || data === void 0 ? void 0 : data.eventType) || ''), nodeType === 'action' && ((data === null || data === void 0 ? void 0 : data.actionType) || ''), nodeType === 'condition' && ((data === null || data === void 0 ? void 0 : data.conditionType) || '')]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), nodeType === 'condition' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Handle, {\n        type: \"source\",\n        id: \"yes\",\n        position: Position.Right,\n        style: {\n          top: '30%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Handle, {\n        type: \"source\",\n        id: \"no\",\n        position: Position.Right,\n        style: {\n          top: '70%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : nodeType === 'action' && (data === null || data === void 0 ? void 0 : data.actionType) === 'stop' ? null : /*#__PURE__*/_jsxDEV(Handle, {\n      type: \"source\",\n      position: Position.Right\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_c = DefaultNode;\nexport default function App() {\n  _s();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const [selected, setSelected] = useState(null);\n  const [logs, setLogs] = useState([]);\n  const [userMessages, setUserMessages] = useState([]);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [now, setNow] = useState(() => new Date().toISOString());\n  const [contextInputs, setContextInputs] = useState({\n    emailOpened: '',\n    emailClicked: ''\n  });\n  const [error, setError] = useState(null);\n  const [simOpen, setSimOpen] = useState(false);\n  const [isStatsMode, setIsStatsMode] = useState(false);\n  const nodeTypes = useMemo(() => ({\n    event: props => /*#__PURE__*/_jsxDEV(DefaultNode, {\n      ...props,\n      nodeType: \"event\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 23\n    }, this),\n    action: props => /*#__PURE__*/_jsxDEV(DefaultNode, {\n      ...props,\n      nodeType: \"action\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 24\n    }, this),\n    condition: props => /*#__PURE__*/_jsxDEV(DefaultNode, {\n      ...props,\n      nodeType: \"condition\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 27\n    }, this)\n  }), []);\n  const emailOptions = useMemo(() => {\n    return nodes.filter(n => {\n      var _n$data;\n      return n.type === 'action' && (n === null || n === void 0 ? void 0 : (_n$data = n.data) === null || _n$data === void 0 ? void 0 : _n$data.actionType) === 'send_email';\n    }).map(n => {\n      var _n$data2, _n$data3;\n      return {\n        id: n.id,\n        name: (n === null || n === void 0 ? void 0 : (_n$data2 = n.data) === null || _n$data2 === void 0 ? void 0 : _n$data2.subject) || (n === null || n === void 0 ? void 0 : (_n$data3 = n.data) === null || _n$data3 === void 0 ? void 0 : _n$data3.label) || `Email ${n.id}`\n      };\n    });\n  }, [nodes]);\n  const downstreamEmailIds = useMemo(() => {\n    if (!selected) return new Set();\n    const queue = [selected.id];\n    const visited = new Set(queue);\n    const result = new Set();\n    while (queue.length) {\n      const curr = queue.shift();\n      edges.filter(e => e.source === curr).forEach(e => {\n        const t = e.target;\n        if (!visited.has(t)) {\n          visited.add(t);\n          queue.push(t);\n        }\n      });\n    }\n    nodes.forEach(n => {\n      var _n$data4;\n      if (visited.has(n.id) && n.id !== selected.id && n.type === 'action' && (n === null || n === void 0 ? void 0 : (_n$data4 = n.data) === null || _n$data4 === void 0 ? void 0 : _n$data4.actionType) === 'send_email') {\n        result.add(n.id);\n      }\n    });\n    return result;\n  }, [selected, edges, nodes]);\n  const onConnect = useCallback(params => {\n    setEdges(eds => {\n      const sourceNode = nodes.find(n => n.id === params.source);\n      const newEdge = {\n        ...params,\n        id: `e-${Math.random().toString(36).slice(2, 8)}`\n      };\n      if ((sourceNode === null || sourceNode === void 0 ? void 0 : sourceNode.type) === 'condition') {\n        const path = params.sourceHandle === 'yes' ? 'yes' : 'no';\n        newEdge.data = {\n          ...(newEdge.data || {}),\n          path\n        };\n        newEdge.label = path;\n      }\n      return addEdge(newEdge, eds);\n    });\n  }, [setEdges, nodes]);\n  const onNodeClick = useCallback((_e, node) => {\n    setSelected(node);\n  }, []);\n  const onNodeMouseEnter = useCallback((_e, node) => {\n    if (!isStatsMode) return;\n    setTooltipState({\n      isVisible: true,\n      node,\n      position: {\n        x: _e.clientX + 20,\n        y: _e.clientY - 20\n      }\n    });\n  }, [isStatsMode]);\n  const onNodeMouseLeave = useCallback(() => {\n    if (!isStatsMode) return;\n    setTooltipState(prev => ({\n      ...prev,\n      isVisible: false\n    }));\n  }, [isStatsMode]);\n  const onNodeUpdate = updatedNode => {\n    setNodes(nds => nds.map(n => n.id === updatedNode.id ? updatedNode : n));\n    setSelected(updatedNode);\n  };\n  const onDragStart = (event, nodeType) => {\n    event.dataTransfer.setData('application/reactflow', nodeType);\n    event.dataTransfer.effectAllowed = 'move';\n  };\n  const handleSave = async () => {\n    await saveChain({\n      nodes,\n      edges\n    });\n    alert('Saved');\n  };\n  const handleLoad = async () => {\n    const chain = await loadChain();\n    if (chain) {\n      setNodes(chain.nodes);\n      setEdges(chain.edges);\n      setSelected(null);\n    } else {\n      alert('No saved chain found');\n    }\n  };\n  const handleSimulate = async () => {\n    try {\n      var _firstEvent$data, _firstEvent$data2, _result$context;\n      console.log('Starting simulation with:', {\n        nodes,\n        edges,\n        now,\n        contextInputs\n      });\n\n      // Find the first event node to determine trigger type\n      const firstEvent = nodes.find(n => n.type === 'event');\n      if (!firstEvent) {\n        alert('Нет событий в цепочке для симуляции');\n        return;\n      }\n      const trigger = {\n        type: ((_firstEvent$data = firstEvent.data) === null || _firstEvent$data === void 0 ? void 0 : _firstEvent$data.eventType) || 'contact_added',\n        payload: {\n          listName: ((_firstEvent$data2 = firstEvent.data) === null || _firstEvent$data2 === void 0 ? void 0 : _firstEvent$data2.listName) || 'Newsletter',\n          email: 'user@example.com'\n        }\n      };\n      console.log('Using trigger:', trigger);\n      const result = await simulate({\n        nodes,\n        edges\n      }, trigger, {\n        now,\n        ...contextInputs\n      });\n      console.log('Simulation result:', result);\n      console.log('userMessages from result:', result.userMessages);\n      console.log('logs from result:', result.logs);\n      setLogs(result.logs || []);\n      setUserMessages(result.userMessages || []);\n      console.log('userMessages state after set:', result.userMessages || []);\n      if ((_result$context = result.context) !== null && _result$context !== void 0 && _result$context.now) setNow(result.context.now);\n      setModalOpen(true);\n    } catch (error) {\n      console.error('Simulation error:', error);\n      alert(`Ошибка симуляции: ${error.message}`);\n    }\n  };\n  useEffect(() => {\n    // Ensure a clean selection if node removed\n    if (selected && !nodes.find(n => n.id === selected.id)) {\n      setSelected(null);\n    }\n  }, [nodes, selected]);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20,\n        color: 'red'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this);\n  }\n  try {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          height: '100vh',\n          width: '100vw'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ui-panel\",\n          style: {\n            width: 280\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui-panel-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"ui-title\",\n              children: \"\\u041A\\u043E\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0442\\u043E\\u0440 \\u0446\\u0435\\u043F\\u043E\\u0447\\u0435\\u043A \\u043F\\u0438\\u0441\\u0435\\u043C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ui-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"ui-label\",\n                children: \"\\u0420\\u0435\\u0436\\u0438\\u043C \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ui-row\",\n                style: {\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `ui-button ${!isStatsMode ? 'ui-button-primary' : 'ui-button-outline'}`,\n                  onClick: () => setIsStatsMode(false),\n                  style: {\n                    flex: 1\n                  },\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `ui-button ${isStatsMode ? 'ui-button-primary' : 'ui-button-outline'}`,\n                  onClick: () => setIsStatsMode(true),\n                  style: {\n                    flex: 1\n                  },\n                  children: \"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this), !isStatsMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 8,\n                marginBottom: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ui-button ui-button-outline--event\",\n                draggable: true,\n                onDragStart: e => onDragStart(e, 'event'),\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ui-button ui-button-outline--action\",\n                draggable: true,\n                onDragStart: e => onDragStart(e, 'action'),\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ui-button ui-button-outline--condition\",\n                draggable: true,\n                onDragStart: e => onDragStart(e, 'condition'),\n                children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ui-row\",\n              style: {\n                marginBottom: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ui-button\",\n                onClick: handleSave,\n                children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ui-button\",\n                onClick: handleLoad,\n                children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ui-field\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ui-accordion\",\n                onClick: () => setSimOpen(v => !v),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u041A\\u043E\\u043D\\u0442\\u0435\\u043A\\u0441\\u0442 \\u0441\\u0438\\u043C\\u0443\\u043B\\u044F\\u0446\\u0438\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ui-badge\",\n                  children: \"\\u043B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: 'auto'\n                  },\n                  children: simOpen ? '▲' : '▼'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this), simOpen && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ui-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"ui-label\",\n                  children: \"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F (ISO)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"ui-input\",\n                  value: now,\n                  onChange: e => setNow(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ui-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"ui-label\",\n                  children: \"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u0438\\u0435 \\u043F\\u0438\\u0441\\u0435\\u043C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"ui-select\",\n                  value: contextInputs.emailOpened || '',\n                  onChange: e => setContextInputs(c => ({\n                    ...c,\n                    emailOpened: e.target.value\n                  })),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\u041D\\u0435 \\u043E\\u0442\\u043A\\u0440\\u044B\\u0442\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 25\n                  }, this), emailOptions.map(email => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: email.id,\n                    children: email.name\n                  }, email.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 27\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ui-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"ui-label\",\n                  children: \"\\u041A\\u043B\\u0438\\u043A \\u043F\\u043E \\u043F\\u0438\\u0441\\u044C\\u043C\\u0430\\u043C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"ui-select\",\n                  value: contextInputs.emailClicked || '',\n                  onChange: e => setContextInputs(c => ({\n                    ...c,\n                    emailClicked: e.target.value\n                  })),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\u041D\\u0435 \\u043A\\u043B\\u0438\\u043A\\u043D\\u0443\\u0442\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 25\n                  }, this), emailOptions.map(email => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: email.id,\n                    children: email.name\n                  }, email.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 27\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ui-button ui-button-primary\",\n                onClick: handleSimulate,\n                style: {\n                  width: '100%',\n                  marginBottom: 12\n                },\n                children: \"\\u0417\\u0430\\u043F\\u0443\\u0441\\u0442\\u0438\\u0442\\u044C \\u0441\\u0438\\u043C\\u0443\\u043B\\u044F\\u0446\\u0438\\u044E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ui-field\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 600,\n                  marginBottom: 4\n                },\n                children: \"\\u041B\\u043E\\u0433\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ui-logs\",\n                children: (logs || []).map((l, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontFamily: 'ui-monospace, SFMono-Regular, Menlo, monospace',\n                    fontSize: 12,\n                    marginBottom: 4\n                  },\n                  children: l\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ui-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                textAlign: 'center',\n                padding: '20px 0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '18px',\n                  fontWeight: '600',\n                  marginBottom: '8px',\n                  color: '#6366f1'\n                },\n                children: \"\\uD83D\\uDCCA \\u0420\\u0435\\u0436\\u0438\\u043C \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '14px',\n                  color: '#64748b',\n                  lineHeight: '1.5'\n                },\n                children: \"\\u041D\\u0430\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u0443\\u0440\\u0441\\u043E\\u0440 \\u043D\\u0430 \\u043B\\u044E\\u0431\\u043E\\u0439 \\u0443\\u0437\\u0435\\u043B \\u0446\\u0435\\u043F\\u043E\\u0447\\u043A\\u0438 \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430 \\u0441\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            display: 'flex'\n          },\n          children: /*#__PURE__*/_jsxDEV(ReactFlowProvider, {\n            children: [/*#__PURE__*/_jsxDEV(FlowCanvas, {\n              nodes: nodes,\n              edges: edges,\n              onNodesChange: onNodesChange,\n              onEdgesChange: onEdgesChange,\n              onConnect: onConnect,\n              onNodeClick: onNodeClick,\n              nodeTypes: nodeTypes,\n              setNodes: setNodes,\n              setSelected: setSelected,\n              isStatsMode: isStatsMode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 11\n            }, this), !isStatsMode && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ui-panel ui-panel-right\",\n              style: {\n                width: 360\n              },\n              children: /*#__PURE__*/_jsxDEV(NodeInspector, {\n                node: selected,\n                onChange: onNodeUpdate,\n                emailOptions: emailOptions.map(opt => ({\n                  ...opt,\n                  isFuture: downstreamEmailIds.has(opt.id)\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SimulationModal, {\n          open: modalOpen,\n          steps: logs,\n          userMessages: userMessages,\n          onClose: () => setModalOpen(false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } catch (err) {\n    console.error('Render error:', err);\n    setError(err.message || 'Неизвестная ошибка рендера');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20,\n        color: 'red'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432 \\u043F\\u0440\\u0438\\u043B\\u043E\\u0436\\u0435\\u043D\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: err.message || 'Неизвестная ошибка'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        children: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u043E\\u0432\\u0430\\u0442\\u044C \\u0441\\u043D\\u043E\\u0432\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(App, \"Dr+Ti83H1NhDDm7qpRRt7zCAFcw=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c2 = App;\nfunction FlowCanvas({\n  nodes,\n  edges,\n  onNodesChange,\n  onEdgesChange,\n  onConnect,\n  onNodeClick,\n  nodeTypes,\n  setNodes,\n  setSelected,\n  isStatsMode\n}) {\n  _s2();\n  try {\n    const {\n      project\n    } = useReactFlow();\n    const wrapperRef = useRef(null);\n    const [tooltipState, setTooltipState] = useState({\n      isVisible: false,\n      node: null,\n      position: {\n        x: 0,\n        y: 0\n      }\n    });\n    const onDragOver = useCallback(event => {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = 'move';\n    }, []);\n    const onDrop = useCallback(event => {\n      if (isStatsMode) return; // Отключаем в режиме статистики\n      event.preventDefault();\n      const type = event.dataTransfer.getData('application/reactflow');\n      if (!type) return;\n      const bounds = wrapperRef.current.getBoundingClientRect();\n      const position = project({\n        x: event.clientX - bounds.left,\n        y: event.clientY - bounds.top\n      });\n      const id = `${type}-${Math.random().toString(36).slice(2, 7)}`;\n      const base = {\n        id,\n        type,\n        position,\n        data: {\n          label: type\n        }\n      };\n      if (type === 'event') base.data = {\n        ...base.data,\n        eventType: 'contact_added'\n      };\n      if (type === 'action') base.data = {\n        ...base.data,\n        actionType: 'wait',\n        delayValue: 1,\n        delayUnit: 'days'\n      };\n      if (type === 'condition') base.data = {\n        ...base.data,\n        conditionType: 'date',\n        operator: '>',\n        value: ''\n      };\n      setNodes(nds => nds.concat(base));\n      setSelected(base);\n    }, [project, setNodes, setSelected, isStatsMode]);\n    const onNodeMouseEnter = useCallback((_e, node) => {\n      if (!isStatsMode) return;\n      setTooltipState({\n        isVisible: true,\n        node,\n        position: {\n          x: _e.clientX + 20,\n          y: _e.clientY - 20\n        }\n      });\n    }, [isStatsMode]);\n    const onNodeMouseLeave = useCallback(() => {\n      if (!isStatsMode) return;\n      setTooltipState(prev => ({\n        ...prev,\n        isVisible: false\n      }));\n    }, [isStatsMode]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: wrapperRef,\n      style: {\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edges,\n        onNodesChange: isStatsMode ? undefined : onNodesChange,\n        onEdgesChange: isStatsMode ? undefined : onEdgesChange,\n        onConnect: isStatsMode ? undefined : onConnect,\n        onNodeClick: onNodeClick,\n        onNodeMouseEnter: onNodeMouseEnter,\n        onNodeMouseLeave: onNodeMouseLeave,\n        nodeTypes: nodeTypes,\n        onDrop: onDrop,\n        onDragOver: onDragOver,\n        fitView: true,\n        children: [/*#__PURE__*/_jsxDEV(MiniMap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Controls, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Background, {\n          gap: 12,\n          size: 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 9\n      }, this), isStatsMode && /*#__PURE__*/_jsxDEV(StatsTooltip, {\n        node: tooltipState.node,\n        isVisible: tooltipState.isVisible,\n        position: tooltipState.position\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 7\n    }, this);\n  } catch (err) {\n    console.error('FlowCanvas error:', err);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 20,\n        color: 'red',\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0432 \\u0445\\u043E\\u043B\\u0441\\u0442\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: err.message || 'Неизвестная ошибка'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s2(FlowCanvas, \"Ip5F61Je0G1Ym+1T3qY+FmO1sUU=\", false, function () {\n  return [useReactFlow];\n});\n_c3 = FlowCanvas;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"DefaultNode\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"FlowCanvas\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","ReactFlow","addEdge","Background","Controls","MiniMap","useEdgesState","useNodesState","Handle","Position","ReactFlowProvider","useReactFlow","NodeInspector","SimulationModal","StatsTooltip","saveChain","loadChain","simulate","jsxDEV","_jsxDEV","Fragment","_Fragment","initialNodes","id","type","position","x","y","data","label","eventType","listName","actionType","delayValue","delayUnit","conditionType","operator","value","subject","body","initialEdges","source","target","path","nodeStyleForType","nodeType","borderColor","background","DefaultNode","style","toLowerCase","padding","border","borderRadius","minWidth","textAlign","fontSize","children","Left","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","color","marginTop","Right","top","_c","App","_s","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","selected","setSelected","logs","setLogs","userMessages","setUserMessages","modalOpen","setModalOpen","now","setNow","Date","toISOString","contextInputs","setContextInputs","emailOpened","emailClicked","error","setError","simOpen","setSimOpen","isStatsMode","setIsStatsMode","nodeTypes","event","props","action","condition","emailOptions","filter","n","_n$data","map","_n$data2","_n$data3","name","downstreamEmailIds","Set","queue","visited","result","length","curr","shift","e","forEach","t","has","add","push","_n$data4","onConnect","params","eds","sourceNode","find","newEdge","Math","random","toString","slice","sourceHandle","onNodeClick","_e","node","onNodeMouseEnter","setTooltipState","isVisible","clientX","clientY","onNodeMouseLeave","prev","onNodeUpdate","updatedNode","nds","onDragStart","dataTransfer","setData","effectAllowed","handleSave","alert","handleLoad","chain","handleSimulate","_firstEvent$data","_firstEvent$data2","_result$context","console","log","firstEvent","trigger","payload","email","context","message","onClick","display","height","width","className","gap","flex","flexDirection","marginBottom","draggable","v","marginLeft","onChange","c","l","i","fontFamily","lineHeight","FlowCanvas","opt","isFuture","open","steps","onClose","err","_c2","_s2","project","wrapperRef","tooltipState","onDragOver","preventDefault","dropEffect","onDrop","getData","bounds","current","getBoundingClientRect","left","base","concat","ref","undefined","fitView","size","_c3","$RefreshReg$"],"sources":["/Users/irina/mvp-trigger/frontend/src/App.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport ReactFlow, {\n  addEdge,\n  Background,\n  Controls,\n  MiniMap,\n  useEdgesState,\n  useNodesState,\n  Handle,\n  Position,\n  ReactFlowProvider,\n  useReactFlow,\n} from 'reactflow';\nimport NodeInspector from './components/NodeInspector';\nimport SimulationModal from './components/SimulationModal';\nimport StatsTooltip from './components/StatsTooltip';\nimport { saveChain, loadChain, simulate } from './api';\n\nconst initialNodes = [\n  {\n    id: 'event1',\n    type: 'event',\n    position: { x: 0, y: 0 },\n    data: { label: 'Контакт добавлен', eventType: 'contact_added', listName: 'Newsletter' },\n  },\n  {\n    id: 'action1',\n    type: 'action',\n    position: { x: 250, y: 0 },\n    data: { label: 'Ждем 1 день', actionType: 'wait', delayValue: 1, delayUnit: 'days' },\n  },\n  {\n    id: 'cond1',\n    type: 'condition',\n    position: { x: 500, y: -100 },\n    data: { label: 'Дата > 2025-08-20', conditionType: 'date', operator: '>', value: '2025-08-20' },\n  },\n  {\n    id: 'action2',\n    type: 'action',\n    position: { x: 750, y: -150 },\n    data: { label: 'Отправить письмо', actionType: 'send_email', subject: 'Здравствуйте!', body: 'Добро пожаловать в нашу рассылку.' },\n  },\n  {\n    id: 'stop1',\n    type: 'action',\n    position: { x: 1000, y: -150 },\n    data: { label: 'Стоп', actionType: 'stop' },\n  },\n  {\n    id: 'stop2',\n    type: 'action',\n    position: { x: 750, y: 0 },\n    data: { label: 'Стоп', actionType: 'stop' },\n  },\n];\n\nconst initialEdges = [\n  { id: 'e1-2', source: 'event1', target: 'action1' },\n  { id: 'e2-3', source: 'action1', target: 'cond1' },\n  { id: 'e3-4', source: 'cond1', target: 'action2', label: 'yes', data: { path: 'yes' } },\n  { id: 'e4-5', source: 'action2', target: 'stop1' },\n  { id: 'e3-6', source: 'cond1', target: 'stop2', label: 'no', data: { path: 'no' } },\n];\n\nfunction nodeStyleForType(nodeType) {\n  if (nodeType === 'event') return { borderColor: '#0ea5e9', background: '#e0f2fe' };\n  if (nodeType === 'condition') return { borderColor: '#f59e0b', background: '#fff7ed' };\n  return { borderColor: '#10b981', background: '#ecfdf5' };\n}\n\nfunction DefaultNode({ data, nodeType }) {\n  let style = nodeStyleForType(nodeType);\n  if (nodeType === 'action' && (data?.actionType === 'stop' || (data?.label || '').toLowerCase() === 'стоп')) {\n    style = { borderColor: '#ef4444', background: '#fee2e2' };\n  }\n  return (\n    <div style={{\n      padding: 8,\n      border: '1px solid ' + style.borderColor,\n      background: style.background,\n      borderRadius: 6,\n      minWidth: 140,\n      textAlign: 'center',\n      fontSize: 12,\n    }}>\n      <Handle type=\"target\" position={Position.Left} />\n      <div style={{ fontWeight: 600 }}>{data?.label || nodeType}</div>\n      <div style={{ color: '#666', marginTop: 4 }}>\n        {nodeType === 'event' && (data?.eventType || '')}\n        {nodeType === 'action' && (data?.actionType || '')}\n        {nodeType === 'condition' && (data?.conditionType || '')}\n      </div>\n      {nodeType === 'condition' ? (\n        <>\n          <Handle type=\"source\" id=\"yes\" position={Position.Right} style={{ top: '30%' }} />\n          <Handle type=\"source\" id=\"no\" position={Position.Right} style={{ top: '70%' }} />\n        </>\n      ) : nodeType === 'action' && data?.actionType === 'stop' ? null : (\n        <Handle type=\"source\" position={Position.Right} />\n      )}\n    </div>\n  );\n}\n\nexport default function App() {\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const [selected, setSelected] = useState(null);\n  const [logs, setLogs] = useState([]);\n  const [userMessages, setUserMessages] = useState([]);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [now, setNow] = useState(() => new Date().toISOString());\n  const [contextInputs, setContextInputs] = useState({ emailOpened: '', emailClicked: '' });\n  const [error, setError] = useState(null);\n  const [simOpen, setSimOpen] = useState(false);\n  const [isStatsMode, setIsStatsMode] = useState(false);\n\n  const nodeTypes = useMemo(() => ({\n    event: (props) => <DefaultNode {...props} nodeType=\"event\" />,\n    action: (props) => <DefaultNode {...props} nodeType=\"action\" />,\n    condition: (props) => <DefaultNode {...props} nodeType=\"condition\" />,\n  }), []);\n\n  const emailOptions = useMemo(() => {\n    return nodes\n      .filter((n) => n.type === 'action' && n?.data?.actionType === 'send_email')\n      .map((n) => ({ id: n.id, name: n?.data?.subject || n?.data?.label || `Email ${n.id}` }));\n  }, [nodes]);\n\n  const downstreamEmailIds = useMemo(() => {\n    if (!selected) return new Set();\n    const queue = [selected.id];\n    const visited = new Set(queue);\n    const result = new Set();\n    while (queue.length) {\n      const curr = queue.shift();\n      edges.filter((e) => e.source === curr).forEach((e) => {\n        const t = e.target;\n        if (!visited.has(t)) {\n          visited.add(t);\n          queue.push(t);\n        }\n      });\n    }\n    nodes.forEach((n) => {\n      if (visited.has(n.id) && n.id !== selected.id && n.type === 'action' && n?.data?.actionType === 'send_email') {\n        result.add(n.id);\n      }\n    });\n    return result;\n  }, [selected, edges, nodes]);\n\n  const onConnect = useCallback((params) => {\n    setEdges((eds) => {\n      const sourceNode = nodes.find((n) => n.id === params.source);\n      const newEdge = { ...params, id: `e-${Math.random().toString(36).slice(2, 8)}` };\n      if (sourceNode?.type === 'condition') {\n        const path = params.sourceHandle === 'yes' ? 'yes' : 'no';\n        newEdge.data = { ...(newEdge.data || {}), path };\n        newEdge.label = path;\n      }\n      return addEdge(newEdge, eds);\n    });\n  }, [setEdges, nodes]);\n\n  const onNodeClick = useCallback((_e, node) => {\n    setSelected(node);\n  }, []);\n\n  const onNodeMouseEnter = useCallback((_e, node) => {\n    if (!isStatsMode) return;\n    setTooltipState({\n      isVisible: true,\n      node,\n      position: { \n        x: _e.clientX + 20, \n        y: _e.clientY - 20\n      }\n    });\n  }, [isStatsMode]);\n\n  const onNodeMouseLeave = useCallback(() => {\n    if (!isStatsMode) return;\n    setTooltipState(prev => ({ ...prev, isVisible: false }));\n  }, [isStatsMode]);\n\n  const onNodeUpdate = (updatedNode) => {\n    setNodes((nds) => nds.map((n) => (n.id === updatedNode.id ? updatedNode : n)));\n    setSelected(updatedNode);\n  };\n\n  const onDragStart = (event, nodeType) => {\n    event.dataTransfer.setData('application/reactflow', nodeType);\n    event.dataTransfer.effectAllowed = 'move';\n  };\n\n  const handleSave = async () => {\n    await saveChain({ nodes, edges });\n    alert('Saved');\n  };\n\n  const handleLoad = async () => {\n    const chain = await loadChain();\n    if (chain) {\n      setNodes(chain.nodes);\n      setEdges(chain.edges);\n      setSelected(null);\n    } else {\n      alert('No saved chain found');\n    }\n  };\n\n  const handleSimulate = async () => {\n    try {\n      console.log('Starting simulation with:', { nodes, edges, now, contextInputs });\n      \n      // Find the first event node to determine trigger type\n      const firstEvent = nodes.find(n => n.type === 'event');\n      if (!firstEvent) {\n        alert('Нет событий в цепочке для симуляции');\n        return;\n      }\n      \n      const trigger = { \n        type: firstEvent.data?.eventType || 'contact_added', \n        payload: { \n          listName: firstEvent.data?.listName || 'Newsletter', \n          email: 'user@example.com' \n        } \n      };\n      \n      console.log('Using trigger:', trigger);\n      \n      const result = await simulate({ nodes, edges }, trigger, { now, ...contextInputs });\n      console.log('Simulation result:', result);\n      console.log('userMessages from result:', result.userMessages);\n      console.log('logs from result:', result.logs);\n      \n      setLogs(result.logs || []);\n      setUserMessages(result.userMessages || []);\n      console.log('userMessages state after set:', result.userMessages || []);\n      if (result.context?.now) setNow(result.context.now);\n      setModalOpen(true);\n    } catch (error) {\n      console.error('Simulation error:', error);\n      alert(`Ошибка симуляции: ${error.message}`);\n    }\n  };\n\n  useEffect(() => {\n    // Ensure a clean selection if node removed\n    if (selected && !nodes.find((n) => n.id === selected.id)) {\n      setSelected(null);\n    }\n  }, [nodes, selected]);\n\n  if (error) {\n    return (\n      <div style={{ padding: 20, color: 'red' }}>\n        <h1>Ошибка в приложении</h1>\n        <p>{error}</p>\n        <button onClick={() => setError(null)}>Попробовать снова</button>\n      </div>\n    );\n  }\n\n  try {\n    return (\n      <>\n        <div style={{ display: 'flex', height: '100vh', width: '100vw' }}>\n          <div className=\"ui-panel\" style={{ width: 280 }}>\n            <div className=\"ui-panel-header\">\n              <h2 className=\"ui-title\">Конструктор цепочек писем</h2>\n            </div>\n            \n            <div className=\"ui-section\">\n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Режим работы</label>\n                <div className=\"ui-row\" style={{ gap: 8 }}>\n                  <button \n                    className={`ui-button ${!isStatsMode ? 'ui-button-primary' : 'ui-button-outline'}`}\n                    onClick={() => setIsStatsMode(false)}\n                    style={{ flex: 1 }}\n                  >\n                    Редактирование\n                  </button>\n                  <button \n                    className={`ui-button ${isStatsMode ? 'ui-button-primary' : 'ui-button-outline'}`}\n                    onClick={() => setIsStatsMode(true)}\n                    style={{ flex: 1 }}\n                  >\n                    Статистика\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {!isStatsMode ? (\n              <div className=\"ui-section\">\n                <div style={{ display: 'flex', flexDirection: 'column', gap: 8, marginBottom: 12 }}>\n                  <button className=\"ui-button ui-button-outline--event\" draggable onDragStart={(e) => onDragStart(e, 'event')}>Добавить событие</button>\n                  <button className=\"ui-button ui-button-outline--action\" draggable onDragStart={(e) => onDragStart(e, 'action')}>Добавить действие</button>\n                  <button className=\"ui-button ui-button-outline--condition\" draggable onDragStart={(e) => onDragStart(e, 'condition')}>Добавить условие</button>\n                </div>\n\n                <div className=\"ui-row\" style={{ marginBottom: 8 }}>\n                  <button className=\"ui-button\" onClick={handleSave}>Сохранить</button>\n                  <button className=\"ui-button\" onClick={handleLoad}>Загрузить</button>\n                </div>\n\n                <div className=\"ui-field\">\n                  <button className=\"ui-accordion\" onClick={() => setSimOpen((v) => !v)}>\n                    <span>Контекст симуляции</span>\n                    <span className=\"ui-badge\">локально</span>\n                    <span style={{ marginLeft: 'auto' }}>{simOpen ? '▲' : '▼'}</span>\n                  </button>\n                </div>\n                {simOpen && (\n                  <>\n                    <div className=\"ui-field\">\n                      <label className=\"ui-label\">Текущее время (ISO)</label>\n                      <input className=\"ui-input\" value={now} onChange={(e) => setNow(e.target.value)} />\n                    </div>\n                    <div className=\"ui-field\">\n                      <label className=\"ui-label\">Открытие писем</label>\n                      <select \n                        className=\"ui-select\" \n                        value={contextInputs.emailOpened || ''} \n                        onChange={(e) => setContextInputs((c) => ({ ...c, emailOpened: e.target.value }))}\n                      >\n                        <option value=\"\">Не открыто</option>\n                        {emailOptions.map((email) => (\n                          <option key={email.id} value={email.id}>\n                            {email.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    \n                    <div className=\"ui-field\">\n                      <label className=\"ui-label\">Клик по письмам</label>\n                      <select \n                        className=\"ui-select\" \n                        value={contextInputs.emailClicked || ''} \n                        onChange={(e) => setContextInputs((c) => ({ ...c, emailClicked: e.target.value }))}\n                      >\n                        <option value=\"\">Не кликнуто</option>\n                        {emailOptions.map((email) => (\n                          <option key={email.id} value={email.id}>\n                            {email.name}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    <button className=\"ui-button ui-button-primary\" onClick={handleSimulate} style={{ width: '100%', marginBottom: 12 }}>Запустить симуляцию</button>\n                  </>\n                )}\n\n                <div className=\"ui-field\">\n                  <div style={{ fontWeight: 600, marginBottom: 4 }}>Логи</div>\n                  <div className=\"ui-logs\">\n                    {(logs || []).map((l, i) => (\n                      <div key={i} style={{ fontFamily: 'ui-monospace, SFMono-Regular, Menlo, monospace', fontSize: 12, marginBottom: 4 }}>\n                        {l}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"ui-section\">\n                <div style={{ textAlign: 'center', padding: '20px 0' }}>\n                  <div style={{ fontSize: '18px', fontWeight: '600', marginBottom: '8px', color: '#6366f1' }}>\n                    📊 Режим статистики\n                  </div>\n                  <div style={{ fontSize: '14px', color: '#64748b', lineHeight: '1.5' }}>\n                    Наведите курсор на любой узел цепочки для просмотра статистики\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          <div style={{ flex: 1, display: 'flex' }}>\n        <ReactFlowProvider>\n          <FlowCanvas\n            nodes={nodes}\n            edges={edges}\n            onNodesChange={onNodesChange}\n            onEdgesChange={onEdgesChange}\n            onConnect={onConnect}\n            onNodeClick={onNodeClick}\n            nodeTypes={nodeTypes}\n            setNodes={setNodes}\n            setSelected={setSelected}\n            isStatsMode={isStatsMode}\n          />\n          {!isStatsMode && (\n            <div className=\"ui-panel ui-panel-right\" style={{ width: 360 }}>\n              <NodeInspector\n                node={selected}\n                onChange={onNodeUpdate}\n                emailOptions={emailOptions.map((opt) => ({ ...opt, isFuture: downstreamEmailIds.has(opt.id) }))}\n              />\n            </div>\n          )}\n        </ReactFlowProvider>\n      </div>\n      <SimulationModal open={modalOpen} steps={logs} userMessages={userMessages} onClose={() => setModalOpen(false)} />\n        </div>\n      </>\n    );\n  } catch (err) {\n    console.error('Render error:', err);\n    setError(err.message || 'Неизвестная ошибка рендера');\n    return (\n      <div style={{ padding: 20, color: 'red' }}>\n        <h1>Ошибка в приложении</h1>\n        <p>{err.message || 'Неизвестная ошибка'}</p>\n        <button onClick={() => setError(null)}>Попробовать снова</button>\n      </div>\n    );\n  }\n}\n\nfunction FlowCanvas({ nodes, edges, onNodesChange, onEdgesChange, onConnect, onNodeClick, nodeTypes, setNodes, setSelected, isStatsMode }) {\n  try {\n    const { project } = useReactFlow();\n    const wrapperRef = useRef(null);\n    const [tooltipState, setTooltipState] = useState({ isVisible: false, node: null, position: { x: 0, y: 0 } });\n\n    const onDragOver = useCallback((event) => {\n      event.preventDefault();\n      event.dataTransfer.dropEffect = 'move';\n    }, []);\n\n    const onDrop = useCallback((event) => {\n      if (isStatsMode) return; // Отключаем в режиме статистики\n      event.preventDefault();\n      const type = event.dataTransfer.getData('application/reactflow');\n      if (!type) return;\n      const bounds = wrapperRef.current.getBoundingClientRect();\n      const position = project({ x: event.clientX - bounds.left, y: event.clientY - bounds.top });\n      const id = `${type}-${Math.random().toString(36).slice(2, 7)}`;\n      const base = { id, type, position, data: { label: type } };\n      if (type === 'event') base.data = { ...base.data, eventType: 'contact_added' };\n      if (type === 'action') base.data = { ...base.data, actionType: 'wait', delayValue: 1, delayUnit: 'days' };\n      if (type === 'condition') base.data = { ...base.data, conditionType: 'date', operator: '>', value: '' };\n      setNodes((nds) => nds.concat(base));\n      setSelected(base);\n    }, [project, setNodes, setSelected, isStatsMode]);\n\n    const onNodeMouseEnter = useCallback((_e, node) => {\n      if (!isStatsMode) return;\n      setTooltipState({\n        isVisible: true,\n        node,\n        position: { \n          x: _e.clientX + 20, \n          y: _e.clientY - 20\n        }\n      });\n    }, [isStatsMode]);\n\n    const onNodeMouseLeave = useCallback(() => {\n      if (!isStatsMode) return;\n      setTooltipState(prev => ({ ...prev, isVisible: false }));\n    }, [isStatsMode]);\n\n    return (\n      <div ref={wrapperRef} style={{ flex: 1 }}>\n        <ReactFlow\n          nodes={nodes}\n          edges={edges}\n          onNodesChange={isStatsMode ? undefined : onNodesChange}\n          onEdgesChange={isStatsMode ? undefined : onEdgesChange}\n          onConnect={isStatsMode ? undefined : onConnect}\n          onNodeClick={onNodeClick}\n          onNodeMouseEnter={onNodeMouseEnter}\n          onNodeMouseLeave={onNodeMouseLeave}\n          nodeTypes={nodeTypes}\n          onDrop={onDrop}\n          onDragOver={onDragOver}\n          fitView\n        >\n          <MiniMap />\n          <Controls />\n          <Background gap={12} size={1} />\n        </ReactFlow>\n        \n        {isStatsMode && (\n          <StatsTooltip\n            node={tooltipState.node}\n            isVisible={tooltipState.isVisible}\n            position={tooltipState.position}\n          />\n        )}\n      </div>\n    );\n  } catch (err) {\n    console.error('FlowCanvas error:', err);\n    return (\n      <div style={{ padding: 20, color: 'red', flex: 1 }}>\n        <h3>Ошибка в холсте</h3>\n        <p>{err.message || 'Неизвестная ошибка'}</p>\n      </div>\n    );\n  }\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}