{"ast":null,"code":"import _objectSpread from\"/Users/irina/mvp-trigger/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useRef}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function NodeInspector(_ref){var _node$data3,_node$data4,_node$data5,_node$data6,_node$data7,_node$data8,_node$data9,_node$data0,_node$data1,_node$data10,_node$data11,_node$data12,_node$data13,_node$data14,_node$data15,_node$data16,_node$data17,_node$data18,_node$data19,_node$data20,_node$data21,_node$data22,_node$data23,_node$data24,_node$data25,_node$data26,_node$data27,_node$data28,_node$data29,_node$data30,_node$data31;let{node,onChange,emailOptions=[]}=_ref;if(!node)return/*#__PURE__*/_jsx(\"div\",{className:\"ui-section\",style:{color:'#666'},children:\"Select a node to edit.\"});const isEvent=node.type==='event';const isAction=node.type==='action';const isCondition=node.type==='condition';const set=(key,value)=>{onChange(_objectSpread(_objectSpread({},node),{},{data:_objectSpread(_objectSpread({},node.data),{},{[key]:value})}));};const fileInputRef=useRef(null);const handleAddFile=()=>{if(fileInputRef.current)fileInputRef.current.click();};const handleFilesSelected=e=>{var _node$data;const files=Array.from(e.target.files||[]);if(files.length===0)return;const names=files.map(f=>f.name);const current=Array.isArray((_node$data=node.data)===null||_node$data===void 0?void 0:_node$data.attachments)?node.data.attachments:[];set('attachments',current.concat(names));// reset input value to allow re-adding same file names\ne.target.value='';};const handleChooseTemplate=()=>{const name=window.prompt('Введите название шаблона');if(name)set('templateName',name);};const handleConditionTypeChange=newType=>{const nextData=_objectSpread(_objectSpread({},node.data),{},{conditionType:newType});if(newType==='opened'||newType==='clicked'){nextData.value='true';delete nextData.operator;}else if(newType==='date'||newType==='time'){var _node$data2;nextData.operator=((_node$data2=node.data)===null||_node$data2===void 0?void 0:_node$data2.operator)||'>';// keep previous value if user set it; otherwise empty\nif(typeof nextData.value==='undefined')nextData.value='';}onChange(_objectSpread(_objectSpread({},node),{},{data:nextData}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"ui-section\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"ui-h3\",children:\"\\u0421\\u0432\\u043E\\u0439\\u0441\\u0442\\u0432\\u0430 \\u0443\\u0437\\u043B\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",value:((_node$data3=node.data)===null||_node$data3===void 0?void 0:_node$data3.label)||'',onChange:e=>set('label',e.target.value),placeholder:\"\\u041F\\u043E\\u0434\\u043F\\u0438\\u0441\\u044C \\u0443\\u0437\\u043B\\u0430\"})]}),isEvent&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0422\\u0438\\u043F \\u0441\\u043E\\u0431\\u044B\\u0442\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data4=node.data)===null||_node$data4===void 0?void 0:_node$data4.eventType)||'contact_added',onChange:e=>set('eventType',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"contact_added\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"\\u041A\\u043E\\u043D\\u043A\\u0440\\u0435\\u0442\\u043D\\u0430\\u044F \\u0434\\u0430\\u0442\\u0430\"})]})]}),((_node$data5=node.data)===null||_node$data5===void 0?void 0:_node$data5.eventType)==='contact_added'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data6=node.data)===null||_node$data6===void 0?void 0:_node$data6.listName)||'тестовый',onChange:e=>set('listName',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439\",children:\"\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u043C\\u043E\\u0438 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\",children:\"\\u043C\\u043E\\u0438 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"})]})]}),((_node$data7=node.data)===null||_node$data7===void 0?void 0:_node$data7.eventType)==='date'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0414\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",type:\"date\",value:((_node$data8=node.data)===null||_node$data8===void 0?void 0:_node$data8.date)||'',onChange:e=>set('date',e.target.value)})]}),((_node$data9=node.data)===null||_node$data9===void 0?void 0:_node$data9.eventType)==='date'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0414\\u043B\\u044F \\u0432\\u0441\\u0435\\u0445 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043E\\u0432 \\u0438\\u0437 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0430\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data0=node.data)===null||_node$data0===void 0?void 0:_node$data0.listName)||'тестовый',onChange:e=>set('listName',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439\",children:\"\\u0442\\u0435\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u043C\\u043E\\u0438 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\",children:\"\\u043C\\u043E\\u0438 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"})]})]})]}),isAction&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0422\\u0438\\u043F \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data1=node.data)===null||_node$data1===void 0?void 0:_node$data1.actionType)||'wait',onChange:e=>set('actionType',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"wait\",children:\"\\u041E\\u0436\\u0438\\u0434\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"option\",{value:\"send_email\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0438\\u0441\\u044C\\u043C\\u043E\"}),/*#__PURE__*/_jsx(\"option\",{value:\"stop\",children:\"\\u041E\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0446\\u0435\\u043F\\u043E\\u0447\\u043A\\u0443\"})]})]}),((_node$data10=node.data)===null||_node$data10===void 0?void 0:_node$data10.actionType)==='wait'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ui-row\",style:{marginBottom:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0417\\u0430\\u0434\\u0435\\u0440\\u0436\\u043A\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",type:\"number\",min:\"0\",value:((_node$data11=node.data)===null||_node$data11===void 0?void 0:_node$data11.delayValue)||1,onChange:e=>set('delayValue',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0415\\u0434\\u0438\\u043D\\u0438\\u0446\\u0430\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data12=node.data)===null||_node$data12===void 0?void 0:_node$data12.delayUnit)||'days',onChange:e=>set('delayUnit',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"days\",children:\"\\u0434\\u043D\\u0438\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hours\",children:\"\\u0447\\u0430\\u0441\\u044B\"})]})]})]}),((_node$data13=node.data)===null||_node$data13===void 0?void 0:_node$data13.actionType)==='send_email'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u0435\\u043B\\u044C\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data14=node.data)===null||_node$data14===void 0?void 0:_node$data14.sender)||'irina@ruru.ru',onChange:e=>set('sender',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"irina@ruru.ru\",children:\"irina@ruru.ru\"}),/*#__PURE__*/_jsx(\"option\",{value:\"no-reply@example.com\",children:\"no-reply@example.com\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0422\\u0435\\u043C\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",value:((_node$data15=node.data)===null||_node$data15===void 0?void 0:_node$data15.subject)||'',onChange:e=>set('subject',e.target.value),placeholder:\"\\u0417\\u0434\\u0440\\u0430\\u0432\\u0441\\u0442\\u0432\\u0443\\u0439\\u0442\\u0435!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u041F\\u0440\\u0435\\u0445\\u0435\\u0434\\u0435\\u0440\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",value:((_node$data16=node.data)===null||_node$data16===void 0?void 0:_node$data16.preheader)||'',onChange:e=>set('preheader',e.target.value),placeholder:\"\\u041A\\u0440\\u0430\\u0442\\u043A\\u0438\\u0439 \\u0442\\u0435\\u043A\\u0441\\u0442 \\u043F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0430\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0428\\u0430\\u0431\\u043B\\u043E\\u043D \\u043F\\u0438\\u0441\\u044C\\u043C\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"ui-button\",onClick:handleChooseTemplate,children:\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\"}),((_node$data17=node.data)===null||_node$data17===void 0?void 0:_node$data17.templateName)&&/*#__PURE__*/_jsx(\"span\",{className:\"ui-chip\",children:node.data.templateName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0414\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-row\",style:{marginBottom:8},children:[/*#__PURE__*/_jsx(\"button\",{className:\"ui-button\",onClick:handleAddFile,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u0430\\u0439\\u043B\"}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",style:{display:'none'},multiple:true,onChange:handleFilesSelected})]}),Array.isArray((_node$data18=node.data)===null||_node$data18===void 0?void 0:_node$data18.attachments)&&node.data.attachments.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:6},children:node.data.attachments.map((name,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"ui-chip\",children:name},idx))}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"UTM-\\u043C\\u0435\\u0442\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",value:((_node$data19=node.data)===null||_node$data19===void 0?void 0:_node$data19.utm)||'',onChange:e=>set('utm',e.target.value),placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043C\\u0435\\u0442\\u043A\\u0443 \\u043A \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430\\u043C\"})]})]})]})]}),isCondition&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0422\\u0438\\u043F \\u0443\\u0441\\u043B\\u043E\\u0432\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data20=node.data)===null||_node$data20===void 0?void 0:_node$data20.conditionType)||'opened',onChange:e=>handleConditionTypeChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"\\u0414\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"option\",{value:\"time\",children:\"\\u0412\\u0440\\u0435\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"option\",{value:\"opened\",children:\"\\u041E\\u0442\\u043A\\u0440\\u044B\\u0442\\u0438\\u0435 \\u043F\\u0438\\u0441\\u044C\\u043C\\u0430 (mock)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"clicked\",children:\"\\u041A\\u043B\\u0438\\u043A \\u043F\\u043E \\u043F\\u0438\\u0441\\u044C\\u043C\\u0443 (mock)\"})]})]}),['date','time'].includes((_node$data21=node.data)===null||_node$data21===void 0?void 0:_node$data21.conditionType)&&/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u041E\\u043F\\u0435\\u0440\\u0430\\u0442\\u043E\\u0440\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data22=node.data)===null||_node$data22===void 0?void 0:_node$data22.operator)||'>',onChange:e=>set('operator',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\">\",children:\">\"}),/*#__PURE__*/_jsx(\"option\",{value:\">=\",children:\">=\"}),/*#__PURE__*/_jsx(\"option\",{value:\"<\",children:\"<\"}),/*#__PURE__*/_jsx(\"option\",{value:\"<=\",children:\"<=\"}),/*#__PURE__*/_jsx(\"option\",{value:\"=\",children:\"=\"})]})]}),['date'].includes((_node$data23=node.data)===null||_node$data23===void 0?void 0:_node$data23.conditionType)&&/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0414\\u0430\\u0442\\u0430\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",type:\"date\",value:((_node$data24=node.data)===null||_node$data24===void 0?void 0:_node$data24.value)||'',onChange:e=>set('value',e.target.value)})]}),((_node$data25=node.data)===null||_node$data25===void 0?void 0:_node$data25.conditionType)==='time'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0412\\u0440\\u0435\\u043C\\u044F (HH:MM)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",type:\"time\",value:((_node$data26=node.data)===null||_node$data26===void 0?void 0:_node$data26.value)||'',onChange:e=>set('value',e.target.value)})]}),['opened','clicked'].includes((_node$data27=node.data)===null||_node$data27===void 0?void 0:_node$data27.conditionType)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u041F\\u0438\\u0441\\u044C\\u043C\\u043E \\u0438\\u0437 \\u0446\\u0435\\u043F\\u043E\\u0447\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"ui-select\",value:((_node$data28=node.data)===null||_node$data28===void 0?void 0:_node$data28.emailRef)||'',onChange:e=>set('emailRef',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014\"}),emailOptions.map(opt=>/*#__PURE__*/_jsxs(\"option\",{value:opt.id,style:opt.isFuture?{color:'#9ca3af'}:undefined,children:[opt.name,opt.isFuture?' (позже по цепочке)':'']},opt.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0416\\u0434\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-row\",style:{marginBottom:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0414\\u043D\\u0438\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",type:\"number\",min:\"0\",value:((_node$data29=node.data)===null||_node$data29===void 0?void 0:_node$data29.waitDays)||0,onChange:e=>set('waitDays',parseInt(e.target.value)||0)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u041C\\u0438\\u043D\\u0443\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",type:\"number\",min:\"0\",value:((_node$data30=node.data)===null||_node$data30===void 0?void 0:_node$data30.waitMinutes)||0,onChange:e=>set('waitMinutes',parseInt(e.target.value)||0)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ui-field\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"ui-label\",children:\"\\u0421\\u0435\\u043A\\u0443\\u043D\\u0434\\u044B\"}),/*#__PURE__*/_jsx(\"input\",{className:\"ui-input\",type:\"number\",min:\"0\",value:((_node$data31=node.data)===null||_node$data31===void 0?void 0:_node$data31.waitSeconds)||0,onChange:e=>set('waitSeconds',parseInt(e.target.value)||0)})]})]})]})]})]});}","map":{"version":3,"names":["React","useRef","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NodeInspector","_ref","_node$data3","_node$data4","_node$data5","_node$data6","_node$data7","_node$data8","_node$data9","_node$data0","_node$data1","_node$data10","_node$data11","_node$data12","_node$data13","_node$data14","_node$data15","_node$data16","_node$data17","_node$data18","_node$data19","_node$data20","_node$data21","_node$data22","_node$data23","_node$data24","_node$data25","_node$data26","_node$data27","_node$data28","_node$data29","_node$data30","_node$data31","node","onChange","emailOptions","className","style","color","children","isEvent","type","isAction","isCondition","set","key","value","_objectSpread","data","fileInputRef","handleAddFile","current","click","handleFilesSelected","e","_node$data","files","Array","from","target","length","names","map","f","name","isArray","attachments","concat","handleChooseTemplate","window","prompt","handleConditionTypeChange","newType","nextData","conditionType","operator","_node$data2","label","placeholder","eventType","listName","date","actionType","marginBottom","flex","min","delayValue","delayUnit","sender","subject","preheader","onClick","templateName","ref","display","multiple","flexWrap","gap","idx","marginTop","utm","includes","emailRef","opt","id","isFuture","undefined","waitDays","parseInt","waitMinutes","waitSeconds"],"sources":["/Users/irina/mvp-trigger/frontend/src/components/NodeInspector.js"],"sourcesContent":["import React, { useRef } from 'react';\n\nexport default function NodeInspector({ node, onChange, emailOptions = [] }) {\n  if (!node) return <div className=\"ui-section\" style={{ color: '#666' }}>Select a node to edit.</div>;\n\n  const isEvent = node.type === 'event';\n  const isAction = node.type === 'action';\n  const isCondition = node.type === 'condition';\n\n  const set = (key, value) => {\n    onChange({ ...node, data: { ...node.data, [key]: value } });\n  };\n\n  const fileInputRef = useRef(null);\n  const handleAddFile = () => {\n    if (fileInputRef.current) fileInputRef.current.click();\n  };\n  const handleFilesSelected = (e) => {\n    const files = Array.from(e.target.files || []);\n    if (files.length === 0) return;\n    const names = files.map((f) => f.name);\n    const current = Array.isArray(node.data?.attachments) ? node.data.attachments : [];\n    set('attachments', current.concat(names));\n    // reset input value to allow re-adding same file names\n    e.target.value = '';\n  };\n  const handleChooseTemplate = () => {\n    const name = window.prompt('Введите название шаблона');\n    if (name) set('templateName', name);\n  };\n\n  const handleConditionTypeChange = (newType) => {\n    const nextData = { ...node.data, conditionType: newType };\n    if (newType === 'opened' || newType === 'clicked') {\n      nextData.value = 'true';\n      delete nextData.operator;\n    } else if (newType === 'date' || newType === 'time') {\n      nextData.operator = node.data?.operator || '>';\n      // keep previous value if user set it; otherwise empty\n      if (typeof nextData.value === 'undefined') nextData.value = '';\n    }\n    onChange({ ...node, data: nextData });\n  };\n\n  return (\n    <div className=\"ui-section\">\n      <h3 className=\"ui-h3\">Свойства узла</h3>\n      <div className=\"ui-field\">\n        <label className=\"ui-label\">Заголовок</label>\n        <input\n          className=\"ui-input\"\n          value={node.data?.label || ''}\n          onChange={(e) => set('label', e.target.value)}\n          placeholder=\"Подпись узла\"\n        />\n      </div>\n\n      {isEvent && (\n        <div>\n          <div className=\"ui-field\">\n            <label className=\"ui-label\">Тип события</label>\n            <select\n              className=\"ui-select\"\n              value={node.data?.eventType || 'contact_added'}\n              onChange={(e) => set('eventType', e.target.value)}\n            >\n              <option value=\"contact_added\">Контакт добавлен</option>\n              <option value=\"date\">Конкретная дата</option>\n            </select>\n          </div>\n          {node.data?.eventType === 'contact_added' && (\n            <div className=\"ui-field\">\n              <label className=\"ui-label\">Список</label>\n              <select\n                className=\"ui-select\"\n                value={node.data?.listName || 'тестовый'}\n                onChange={(e) => set('listName', e.target.value)}\n              >\n                <option value=\"тестовый\">тестовый</option>\n                <option value=\"мои контакты\">мои контакты</option>\n              </select>\n            </div>\n          )}\n          {node.data?.eventType === 'date' && (\n            <div className=\"ui-field\">\n              <label className=\"ui-label\">Дата</label>\n              <input\n                className=\"ui-input\"\n                type=\"date\"\n                value={node.data?.date || ''}\n                onChange={(e) => set('date', e.target.value)}\n              />\n            </div>\n          )}\n          {node.data?.eventType === 'date' && (\n            <div className=\"ui-field\">\n              <label className=\"ui-label\">Для всех контактов из списка</label>\n              <select\n                className=\"ui-select\"\n                value={node.data?.listName || 'тестовый'}\n                onChange={(e) => set('listName', e.target.value)}\n              >\n                <option value=\"тестовый\">тестовый</option>\n                <option value=\"мои контакты\">мои контакты</option>\n              </select>\n            </div>\n          )}\n        </div>\n      )}\n\n      {isAction && (\n        <div>\n          <div className=\"ui-field\">\n            <label className=\"ui-label\">Тип действия</label>\n            <select\n              className=\"ui-select\"\n              value={node.data?.actionType || 'wait'}\n              onChange={(e) => set('actionType', e.target.value)}\n            >\n              <option value=\"wait\">Ожидание</option>\n              <option value=\"send_email\">Отправить письмо</option>\n              <option value=\"stop\">Остановить цепочку</option>\n            </select>\n          </div>\n          {node.data?.actionType === 'wait' && (\n            <div className=\"ui-row\" style={{ marginBottom: 8 }}>\n              <div style={{ flex: 1 }}>\n                <label className=\"ui-label\">Задержка</label>\n                <input\n                  className=\"ui-input\"\n                  type=\"number\"\n                  min=\"0\"\n                  value={node.data?.delayValue || 1}\n                  onChange={(e) => set('delayValue', e.target.value)}\n                />\n              </div>\n              <div>\n                <label className=\"ui-label\">Единица</label>\n                <select\n                  className=\"ui-select\"\n                  value={node.data?.delayUnit || 'days'}\n                  onChange={(e) => set('delayUnit', e.target.value)}\n                >\n                  <option value=\"days\">дни</option>\n                  <option value=\"hours\">часы</option>\n                </select>\n              </div>\n            </div>\n          )}\n          {node.data?.actionType === 'send_email' && (\n            <div>\n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Отправитель</label>\n                <select\n                  className=\"ui-select\"\n                  value={node.data?.sender || 'irina@ruru.ru'}\n                  onChange={(e) => set('sender', e.target.value)}\n                >\n                  <option value=\"irina@ruru.ru\">irina@ruru.ru</option>\n                  <option value=\"no-reply@example.com\">no-reply@example.com</option>\n                </select>\n              </div>\n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Тема</label>\n                <input\n                  className=\"ui-input\"\n                  value={node.data?.subject || ''}\n                  onChange={(e) => set('subject', e.target.value)}\n                  placeholder=\"Здравствуйте!\"\n                />\n              </div>\n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Прехедер</label>\n                <input\n                  className=\"ui-input\"\n                  value={node.data?.preheader || ''}\n                  onChange={(e) => set('preheader', e.target.value)}\n                  placeholder=\"Краткий текст предпросмотра\"\n                />\n              </div>\n\n\n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Шаблон письма</label>\n                <div className=\"ui-row\">\n                  <button className=\"ui-button\" onClick={handleChooseTemplate}>Выбрать шаблон</button>\n                  {node.data?.templateName && (\n                    <span className=\"ui-chip\">{node.data.templateName}</span>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Дополнительно</label>\n                <div className=\"ui-row\" style={{ marginBottom: 8 }}>\n                  <button className=\"ui-button\" onClick={handleAddFile}>Добавить файл</button>\n                  <input ref={fileInputRef} type=\"file\" style={{ display: 'none' }} multiple onChange={handleFilesSelected} />\n                </div>\n                {Array.isArray(node.data?.attachments) && node.data.attachments.length > 0 && (\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6 }}>\n                    {node.data.attachments.map((name, idx) => (\n                      <span key={idx} className=\"ui-chip\">{name}</span>\n                    ))}\n                  </div>\n                )}\n                <div className=\"ui-field\" style={{ marginTop: 10 }}>\n                  <label className=\"ui-label\">UTM-метки</label>\n                  <input\n                    className=\"ui-input\"\n                    value={node.data?.utm || ''}\n                    onChange={(e) => set('utm', e.target.value)}\n                    placeholder=\"Добавить метку к ссылкам\"\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {isCondition && (\n        <div>\n          <div className=\"ui-field\">\n            <label className=\"ui-label\">Тип условия</label>\n            <select\n              className=\"ui-select\"\n              value={node.data?.conditionType || 'opened'}\n              onChange={(e) => handleConditionTypeChange(e.target.value)}\n            >\n              <option value=\"date\">Дата</option>\n              <option value=\"time\">Время</option>\n              <option value=\"opened\">Открытие письма (mock)</option>\n              <option value=\"clicked\">Клик по письму (mock)</option>\n            </select>\n          </div>\n\n          {['date', 'time'].includes(node.data?.conditionType) && (\n            <div className=\"ui-field\">\n              <label className=\"ui-label\">Оператор</label>\n              <select\n                className=\"ui-select\"\n                value={node.data?.operator || '>'}\n                onChange={(e) => set('operator', e.target.value)}\n              >\n                <option value=\">\">&gt;</option>\n                <option value=\">=\">&gt;=</option>\n                <option value=\"<\">&lt;</option>\n                <option value=\"<=\">&lt;=</option>\n                <option value=\"=\">=</option>\n              </select>\n            </div>\n          )}\n\n          {['date'].includes(node.data?.conditionType) && (\n            <div className=\"ui-field\">\n              <label className=\"ui-label\">Дата</label>\n              <input\n                className=\"ui-input\"\n                type=\"date\"\n                value={node.data?.value || ''}\n                onChange={(e) => set('value', e.target.value)}\n              />\n            </div>\n          )}\n          {node.data?.conditionType === 'time' && (\n            <div className=\"ui-field\">\n              <label className=\"ui-label\">Время (HH:MM)</label>\n              <input\n                className=\"ui-input\"\n                type=\"time\"\n                value={node.data?.value || ''}\n                onChange={(e) => set('value', e.target.value)}\n              />\n            </div>\n          )}\n          {['opened', 'clicked'].includes(node.data?.conditionType) && (\n            <>\n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Письмо из цепочки</label>\n                <select\n                  className=\"ui-select\"\n                  value={node.data?.emailRef || ''}\n                  onChange={(e) => set('emailRef', e.target.value)}\n                >\n                  <option value=\"\">—</option>\n                  {emailOptions.map((opt) => (\n                    <option key={opt.id} value={opt.id} style={opt.isFuture ? { color: '#9ca3af' } : undefined}>\n                      {opt.name}{opt.isFuture ? ' (позже по цепочке)' : ''}\n                    </option>\n                  ))}\n                </select>\n              </div>\n              \n              <div className=\"ui-field\">\n                <label className=\"ui-label\">Ждать</label>\n                <div className=\"ui-row\" style={{ marginBottom: 8 }}>\n                  <div style={{ flex: 1 }}>\n                    <label className=\"ui-label\">Дни</label>\n                    <input\n                      className=\"ui-input\"\n                      type=\"number\"\n                      min=\"0\"\n                      value={node.data?.waitDays || 0}\n                      onChange={(e) => set('waitDays', parseInt(e.target.value) || 0)}\n                    />\n                  </div>\n                  <div style={{ flex: 1 }}>\n                    <label className=\"ui-label\">Минуты</label>\n                    <input\n                      className=\"ui-input\"\n                      type=\"number\"\n                      min=\"0\"\n                      value={node.data?.waitMinutes || 0}\n                      onChange={(e) => set('waitMinutes', parseInt(e.target.value) || 0)}\n                    />\n                  </div>\n                </div>\n                <div className=\"ui-field\">\n                  <label className=\"ui-label\">Секунды</label>\n                  <input\n                    className=\"ui-input\"\n                    type=\"number\"\n                    min=\"0\"\n                    value={node.data?.waitSeconds || 0}\n                    onChange={(e) => set('waitSeconds', parseInt(e.target.value) || 0)}\n                  />\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\n\n"],"mappings":"sHAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEtC,cAAe,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAwC,KAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,WAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,CAAAC,YAAA,IAAvC,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,YAAY,CAAG,EAAG,CAAC,CAAAlC,IAAA,CACzE,GAAI,CAACgC,IAAI,CAAE,mBAAOtC,IAAA,QAAKyC,SAAS,CAAC,YAAY,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAO,CAAE,CAAAC,QAAA,CAAC,wBAAsB,CAAK,CAAC,CAEpG,KAAM,CAAAC,OAAO,CAAGP,IAAI,CAACQ,IAAI,GAAK,OAAO,CACrC,KAAM,CAAAC,QAAQ,CAAGT,IAAI,CAACQ,IAAI,GAAK,QAAQ,CACvC,KAAM,CAAAE,WAAW,CAAGV,IAAI,CAACQ,IAAI,GAAK,WAAW,CAE7C,KAAM,CAAAG,GAAG,CAAGA,CAACC,GAAG,CAAEC,KAAK,GAAK,CAC1BZ,QAAQ,CAAAa,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,IAAI,CAAAD,aAAA,CAAAA,aAAA,IAAOd,IAAI,CAACe,IAAI,MAAE,CAACH,GAAG,EAAGC,KAAK,EAAE,EAAE,CAAC,CAC7D,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGxD,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAAyD,aAAa,CAAGA,CAAA,GAAM,CAC1B,GAAID,YAAY,CAACE,OAAO,CAAEF,YAAY,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,CACxD,CAAC,CACD,KAAM,CAAAC,mBAAmB,CAAIC,CAAC,EAAK,KAAAC,UAAA,CACjC,KAAM,CAAAC,KAAK,CAAGC,KAAK,CAACC,IAAI,CAACJ,CAAC,CAACK,MAAM,CAACH,KAAK,EAAI,EAAE,CAAC,CAC9C,GAAIA,KAAK,CAACI,MAAM,GAAK,CAAC,CAAE,OACxB,KAAM,CAAAC,KAAK,CAAGL,KAAK,CAACM,GAAG,CAAEC,CAAC,EAAKA,CAAC,CAACC,IAAI,CAAC,CACtC,KAAM,CAAAb,OAAO,CAAGM,KAAK,CAACQ,OAAO,EAAAV,UAAA,CAACtB,IAAI,CAACe,IAAI,UAAAO,UAAA,iBAATA,UAAA,CAAWW,WAAW,CAAC,CAAGjC,IAAI,CAACe,IAAI,CAACkB,WAAW,CAAG,EAAE,CAClFtB,GAAG,CAAC,aAAa,CAAEO,OAAO,CAACgB,MAAM,CAACN,KAAK,CAAC,CAAC,CACzC;AACAP,CAAC,CAACK,MAAM,CAACb,KAAK,CAAG,EAAE,CACrB,CAAC,CACD,KAAM,CAAAsB,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAJ,IAAI,CAAGK,MAAM,CAACC,MAAM,CAAC,0BAA0B,CAAC,CACtD,GAAIN,IAAI,CAAEpB,GAAG,CAAC,cAAc,CAAEoB,IAAI,CAAC,CACrC,CAAC,CAED,KAAM,CAAAO,yBAAyB,CAAIC,OAAO,EAAK,CAC7C,KAAM,CAAAC,QAAQ,CAAA1B,aAAA,CAAAA,aAAA,IAAQd,IAAI,CAACe,IAAI,MAAE0B,aAAa,CAAEF,OAAO,EAAE,CACzD,GAAIA,OAAO,GAAK,QAAQ,EAAIA,OAAO,GAAK,SAAS,CAAE,CACjDC,QAAQ,CAAC3B,KAAK,CAAG,MAAM,CACvB,MAAO,CAAA2B,QAAQ,CAACE,QAAQ,CAC1B,CAAC,IAAM,IAAIH,OAAO,GAAK,MAAM,EAAIA,OAAO,GAAK,MAAM,CAAE,KAAAI,WAAA,CACnDH,QAAQ,CAACE,QAAQ,CAAG,EAAAC,WAAA,CAAA3C,IAAI,CAACe,IAAI,UAAA4B,WAAA,iBAATA,WAAA,CAAWD,QAAQ,GAAI,GAAG,CAC9C;AACA,GAAI,MAAO,CAAAF,QAAQ,CAAC3B,KAAK,GAAK,WAAW,CAAE2B,QAAQ,CAAC3B,KAAK,CAAG,EAAE,CAChE,CACAZ,QAAQ,CAAAa,aAAA,CAAAA,aAAA,IAAMd,IAAI,MAAEe,IAAI,CAAEyB,QAAQ,EAAE,CAAC,CACvC,CAAC,CAED,mBACE5E,KAAA,QAAKuC,SAAS,CAAC,YAAY,CAAAG,QAAA,eACzB5C,IAAA,OAAIyC,SAAS,CAAC,OAAO,CAAAG,QAAA,CAAC,2EAAa,CAAI,CAAC,cACxC1C,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,wDAAS,CAAO,CAAC,cAC7C5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBU,KAAK,CAAE,EAAA5C,WAAA,CAAA+B,IAAI,CAACe,IAAI,UAAA9C,WAAA,iBAATA,WAAA,CAAW2E,KAAK,GAAI,EAAG,CAC9B3C,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,OAAO,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAC9CgC,WAAW,CAAC,qEAAc,CAC3B,CAAC,EACC,CAAC,CAELtC,OAAO,eACN3C,KAAA,QAAA0C,QAAA,eACE1C,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,+DAAW,CAAO,CAAC,cAC/C1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAA3C,WAAA,CAAA8B,IAAI,CAACe,IAAI,UAAA7C,WAAA,iBAATA,WAAA,CAAW4E,SAAS,GAAI,eAAgB,CAC/C7C,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,WAAW,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAElD5C,IAAA,WAAQmD,KAAK,CAAC,eAAe,CAAAP,QAAA,CAAC,6FAAgB,CAAQ,CAAC,cACvD5C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAP,QAAA,CAAC,uFAAe,CAAQ,CAAC,EACvC,CAAC,EACN,CAAC,CACL,EAAAnC,WAAA,CAAA6B,IAAI,CAACe,IAAI,UAAA5C,WAAA,iBAATA,WAAA,CAAW2E,SAAS,IAAK,eAAe,eACvClF,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,sCAAM,CAAO,CAAC,cAC1C1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAAzC,WAAA,CAAA4B,IAAI,CAACe,IAAI,UAAA3C,WAAA,iBAATA,WAAA,CAAW2E,QAAQ,GAAI,UAAW,CACzC9C,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,UAAU,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAEjD5C,IAAA,WAAQmD,KAAK,CAAC,kDAAU,CAAAP,QAAA,CAAC,kDAAQ,CAAQ,CAAC,cAC1C5C,IAAA,WAAQmD,KAAK,CAAC,qEAAc,CAAAP,QAAA,CAAC,qEAAY,CAAQ,CAAC,EAC5C,CAAC,EACN,CACN,CACA,EAAAjC,WAAA,CAAA2B,IAAI,CAACe,IAAI,UAAA1C,WAAA,iBAATA,WAAA,CAAWyE,SAAS,IAAK,MAAM,eAC9BlF,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,0BAAI,CAAO,CAAC,cACxC5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBK,IAAI,CAAC,MAAM,CACXK,KAAK,CAAE,EAAAvC,WAAA,CAAA0B,IAAI,CAACe,IAAI,UAAAzC,WAAA,iBAATA,WAAA,CAAW0E,IAAI,GAAI,EAAG,CAC7B/C,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,MAAM,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAC9C,CAAC,EACC,CACN,CACA,EAAAtC,WAAA,CAAAyB,IAAI,CAACe,IAAI,UAAAxC,WAAA,iBAATA,WAAA,CAAWuE,SAAS,IAAK,MAAM,eAC9BlF,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,sJAA4B,CAAO,CAAC,cAChE1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAArC,WAAA,CAAAwB,IAAI,CAACe,IAAI,UAAAvC,WAAA,iBAATA,WAAA,CAAWuE,QAAQ,GAAI,UAAW,CACzC9C,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,UAAU,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAEjD5C,IAAA,WAAQmD,KAAK,CAAC,kDAAU,CAAAP,QAAA,CAAC,kDAAQ,CAAQ,CAAC,cAC1C5C,IAAA,WAAQmD,KAAK,CAAC,qEAAc,CAAAP,QAAA,CAAC,qEAAY,CAAQ,CAAC,EAC5C,CAAC,EACN,CACN,EACE,CACN,CAEAG,QAAQ,eACP7C,KAAA,QAAA0C,QAAA,eACE1C,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,qEAAY,CAAO,CAAC,cAChD1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAApC,WAAA,CAAAuB,IAAI,CAACe,IAAI,UAAAtC,WAAA,iBAATA,WAAA,CAAWwE,UAAU,GAAI,MAAO,CACvChD,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,YAAY,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAEnD5C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAP,QAAA,CAAC,kDAAQ,CAAQ,CAAC,cACtC5C,IAAA,WAAQmD,KAAK,CAAC,YAAY,CAAAP,QAAA,CAAC,6FAAgB,CAAQ,CAAC,cACpD5C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAP,QAAA,CAAC,yGAAkB,CAAQ,CAAC,EAC1C,CAAC,EACN,CAAC,CACL,EAAA5B,YAAA,CAAAsB,IAAI,CAACe,IAAI,UAAArC,YAAA,iBAATA,YAAA,CAAWuE,UAAU,IAAK,MAAM,eAC/BrF,KAAA,QAAKuC,SAAS,CAAC,QAAQ,CAACC,KAAK,CAAE,CAAE8C,YAAY,CAAE,CAAE,CAAE,CAAA5C,QAAA,eACjD1C,KAAA,QAAKwC,KAAK,CAAE,CAAE+C,IAAI,CAAE,CAAE,CAAE,CAAA7C,QAAA,eACtB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,kDAAQ,CAAO,CAAC,cAC5C5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBK,IAAI,CAAC,QAAQ,CACb4C,GAAG,CAAC,GAAG,CACPvC,KAAK,CAAE,EAAAlC,YAAA,CAAAqB,IAAI,CAACe,IAAI,UAAApC,YAAA,iBAATA,YAAA,CAAW0E,UAAU,GAAI,CAAE,CAClCpD,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,YAAY,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CACpD,CAAC,EACC,CAAC,cACNjD,KAAA,QAAA0C,QAAA,eACE5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,4CAAO,CAAO,CAAC,cAC3C1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAAjC,YAAA,CAAAoB,IAAI,CAACe,IAAI,UAAAnC,YAAA,iBAATA,YAAA,CAAW0E,SAAS,GAAI,MAAO,CACtCrD,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,WAAW,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAElD5C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAP,QAAA,CAAC,oBAAG,CAAQ,CAAC,cACjC5C,IAAA,WAAQmD,KAAK,CAAC,OAAO,CAAAP,QAAA,CAAC,0BAAI,CAAQ,CAAC,EAC7B,CAAC,EACN,CAAC,EACH,CACN,CACA,EAAAzB,YAAA,CAAAmB,IAAI,CAACe,IAAI,UAAAlC,YAAA,iBAATA,YAAA,CAAWoE,UAAU,IAAK,YAAY,eACrCrF,KAAA,QAAA0C,QAAA,eACE1C,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,oEAAW,CAAO,CAAC,cAC/C1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAA/B,YAAA,CAAAkB,IAAI,CAACe,IAAI,UAAAjC,YAAA,iBAATA,YAAA,CAAWyE,MAAM,GAAI,eAAgB,CAC5CtD,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,QAAQ,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAE/C5C,IAAA,WAAQmD,KAAK,CAAC,eAAe,CAAAP,QAAA,CAAC,eAAa,CAAQ,CAAC,cACpD5C,IAAA,WAAQmD,KAAK,CAAC,sBAAsB,CAAAP,QAAA,CAAC,sBAAoB,CAAQ,CAAC,EAC5D,CAAC,EACN,CAAC,cACN1C,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,0BAAI,CAAO,CAAC,cACxC5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBU,KAAK,CAAE,EAAA9B,YAAA,CAAAiB,IAAI,CAACe,IAAI,UAAAhC,YAAA,iBAATA,YAAA,CAAWyE,OAAO,GAAI,EAAG,CAChCvD,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,SAAS,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAChDgC,WAAW,CAAC,2EAAe,CAC5B,CAAC,EACC,CAAC,cACNjF,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,kDAAQ,CAAO,CAAC,cAC5C5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBU,KAAK,CAAE,EAAA7B,YAAA,CAAAgB,IAAI,CAACe,IAAI,UAAA/B,YAAA,iBAATA,YAAA,CAAWyE,SAAS,GAAI,EAAG,CAClCxD,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,WAAW,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAClDgC,WAAW,CAAC,0JAA6B,CAC1C,CAAC,EACC,CAAC,cAGNjF,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,2EAAa,CAAO,CAAC,cACjD1C,KAAA,QAAKuC,SAAS,CAAC,QAAQ,CAAAG,QAAA,eACrB5C,IAAA,WAAQyC,SAAS,CAAC,WAAW,CAACuD,OAAO,CAAEvB,oBAAqB,CAAA7B,QAAA,CAAC,iFAAc,CAAQ,CAAC,CACnF,EAAArB,YAAA,CAAAe,IAAI,CAACe,IAAI,UAAA9B,YAAA,iBAATA,YAAA,CAAW0E,YAAY,gBACtBjG,IAAA,SAAMyC,SAAS,CAAC,SAAS,CAAAG,QAAA,CAAEN,IAAI,CAACe,IAAI,CAAC4C,YAAY,CAAO,CACzD,EACE,CAAC,EACH,CAAC,cAEN/F,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,gFAAa,CAAO,CAAC,cACjD1C,KAAA,QAAKuC,SAAS,CAAC,QAAQ,CAACC,KAAK,CAAE,CAAE8C,YAAY,CAAE,CAAE,CAAE,CAAA5C,QAAA,eACjD5C,IAAA,WAAQyC,SAAS,CAAC,WAAW,CAACuD,OAAO,CAAEzC,aAAc,CAAAX,QAAA,CAAC,2EAAa,CAAQ,CAAC,cAC5E5C,IAAA,UAAOkG,GAAG,CAAE5C,YAAa,CAACR,IAAI,CAAC,MAAM,CAACJ,KAAK,CAAE,CAAEyD,OAAO,CAAE,MAAO,CAAE,CAACC,QAAQ,MAAC7D,QAAQ,CAAEmB,mBAAoB,CAAE,CAAC,EACzG,CAAC,CACLI,KAAK,CAACQ,OAAO,EAAA9C,YAAA,CAACc,IAAI,CAACe,IAAI,UAAA7B,YAAA,iBAATA,YAAA,CAAW+C,WAAW,CAAC,EAAIjC,IAAI,CAACe,IAAI,CAACkB,WAAW,CAACN,MAAM,CAAG,CAAC,eACxEjE,IAAA,QAAK0C,KAAK,CAAE,CAAEyD,OAAO,CAAE,MAAM,CAAEE,QAAQ,CAAE,MAAM,CAAEC,GAAG,CAAE,CAAE,CAAE,CAAA1D,QAAA,CACvDN,IAAI,CAACe,IAAI,CAACkB,WAAW,CAACJ,GAAG,CAAC,CAACE,IAAI,CAAEkC,GAAG,gBACnCvG,IAAA,SAAgByC,SAAS,CAAC,SAAS,CAAAG,QAAA,CAAEyB,IAAI,EAA9BkC,GAAqC,CACjD,CAAC,CACC,CACN,cACDrG,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAACC,KAAK,CAAE,CAAE8D,SAAS,CAAE,EAAG,CAAE,CAAA5D,QAAA,eACjD5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,oCAAS,CAAO,CAAC,cAC7C5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBU,KAAK,CAAE,EAAA1B,YAAA,CAAAa,IAAI,CAACe,IAAI,UAAA5B,YAAA,iBAATA,YAAA,CAAWgF,GAAG,GAAI,EAAG,CAC5BlE,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,KAAK,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAC5CgC,WAAW,CAAC,mIAA0B,CACvC,CAAC,EACC,CAAC,EACH,CAAC,EACH,CACN,EACE,CACN,CAEAnC,WAAW,eACV9C,KAAA,QAAA0C,QAAA,eACE1C,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,+DAAW,CAAO,CAAC,cAC/C1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAAzB,YAAA,CAAAY,IAAI,CAACe,IAAI,UAAA3B,YAAA,iBAATA,YAAA,CAAWqD,aAAa,GAAI,QAAS,CAC5CxC,QAAQ,CAAGoB,CAAC,EAAKiB,yBAAyB,CAACjB,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAE3D5C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAP,QAAA,CAAC,0BAAI,CAAQ,CAAC,cAClC5C,IAAA,WAAQmD,KAAK,CAAC,MAAM,CAAAP,QAAA,CAAC,gCAAK,CAAQ,CAAC,cACnC5C,IAAA,WAAQmD,KAAK,CAAC,QAAQ,CAAAP,QAAA,CAAC,8FAAsB,CAAQ,CAAC,cACtD5C,IAAA,WAAQmD,KAAK,CAAC,SAAS,CAAAP,QAAA,CAAC,mFAAqB,CAAQ,CAAC,EAChD,CAAC,EACN,CAAC,CAEL,CAAC,MAAM,CAAE,MAAM,CAAC,CAAC8D,QAAQ,EAAA/E,YAAA,CAACW,IAAI,CAACe,IAAI,UAAA1B,YAAA,iBAATA,YAAA,CAAWoD,aAAa,CAAC,eAClD7E,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,kDAAQ,CAAO,CAAC,cAC5C1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAAvB,YAAA,CAAAU,IAAI,CAACe,IAAI,UAAAzB,YAAA,iBAATA,YAAA,CAAWoD,QAAQ,GAAI,GAAI,CAClCzC,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,UAAU,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAEjD5C,IAAA,WAAQmD,KAAK,CAAC,GAAG,CAAAP,QAAA,CAAC,GAAI,CAAQ,CAAC,cAC/B5C,IAAA,WAAQmD,KAAK,CAAC,IAAI,CAAAP,QAAA,CAAC,IAAK,CAAQ,CAAC,cACjC5C,IAAA,WAAQmD,KAAK,CAAC,GAAG,CAAAP,QAAA,CAAC,GAAI,CAAQ,CAAC,cAC/B5C,IAAA,WAAQmD,KAAK,CAAC,IAAI,CAAAP,QAAA,CAAC,IAAK,CAAQ,CAAC,cACjC5C,IAAA,WAAQmD,KAAK,CAAC,GAAG,CAAAP,QAAA,CAAC,GAAC,CAAQ,CAAC,EACtB,CAAC,EACN,CACN,CAEA,CAAC,MAAM,CAAC,CAAC8D,QAAQ,EAAA7E,YAAA,CAACS,IAAI,CAACe,IAAI,UAAAxB,YAAA,iBAATA,YAAA,CAAWkD,aAAa,CAAC,eAC1C7E,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,0BAAI,CAAO,CAAC,cACxC5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBK,IAAI,CAAC,MAAM,CACXK,KAAK,CAAE,EAAArB,YAAA,CAAAQ,IAAI,CAACe,IAAI,UAAAvB,YAAA,iBAATA,YAAA,CAAWqB,KAAK,GAAI,EAAG,CAC9BZ,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,OAAO,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAC/C,CAAC,EACC,CACN,CACA,EAAApB,YAAA,CAAAO,IAAI,CAACe,IAAI,UAAAtB,YAAA,iBAATA,YAAA,CAAWgD,aAAa,IAAK,MAAM,eAClC7E,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,wCAAa,CAAO,CAAC,cACjD5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBK,IAAI,CAAC,MAAM,CACXK,KAAK,CAAE,EAAAnB,YAAA,CAAAM,IAAI,CAACe,IAAI,UAAArB,YAAA,iBAATA,YAAA,CAAWmB,KAAK,GAAI,EAAG,CAC9BZ,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,OAAO,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAC/C,CAAC,EACC,CACN,CACA,CAAC,QAAQ,CAAE,SAAS,CAAC,CAACuD,QAAQ,EAAAzE,YAAA,CAACK,IAAI,CAACe,IAAI,UAAApB,YAAA,iBAATA,YAAA,CAAW8C,aAAa,CAAC,eACvD7E,KAAA,CAAAE,SAAA,EAAAwC,QAAA,eACE1C,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,8FAAiB,CAAO,CAAC,cACrD1C,KAAA,WACEuC,SAAS,CAAC,WAAW,CACrBU,KAAK,CAAE,EAAAjB,YAAA,CAAAI,IAAI,CAACe,IAAI,UAAAnB,YAAA,iBAATA,YAAA,CAAWyE,QAAQ,GAAI,EAAG,CACjCpE,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,UAAU,CAAEU,CAAC,CAACK,MAAM,CAACb,KAAK,CAAE,CAAAP,QAAA,eAEjD5C,IAAA,WAAQmD,KAAK,CAAC,EAAE,CAAAP,QAAA,CAAC,QAAC,CAAQ,CAAC,CAC1BJ,YAAY,CAAC2B,GAAG,CAAEyC,GAAG,eACpB1G,KAAA,WAAqBiD,KAAK,CAAEyD,GAAG,CAACC,EAAG,CAACnE,KAAK,CAAEkE,GAAG,CAACE,QAAQ,CAAG,CAAEnE,KAAK,CAAE,SAAU,CAAC,CAAGoE,SAAU,CAAAnE,QAAA,EACxFgE,GAAG,CAACvC,IAAI,CAAEuC,GAAG,CAACE,QAAQ,CAAG,qBAAqB,CAAG,EAAE,GADzCF,GAAG,CAACC,EAET,CACT,CAAC,EACI,CAAC,EACN,CAAC,cAEN3G,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,gCAAK,CAAO,CAAC,cACzC1C,KAAA,QAAKuC,SAAS,CAAC,QAAQ,CAACC,KAAK,CAAE,CAAE8C,YAAY,CAAE,CAAE,CAAE,CAAA5C,QAAA,eACjD1C,KAAA,QAAKwC,KAAK,CAAE,CAAE+C,IAAI,CAAE,CAAE,CAAE,CAAA7C,QAAA,eACtB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,oBAAG,CAAO,CAAC,cACvC5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBK,IAAI,CAAC,QAAQ,CACb4C,GAAG,CAAC,GAAG,CACPvC,KAAK,CAAE,EAAAhB,YAAA,CAAAG,IAAI,CAACe,IAAI,UAAAlB,YAAA,iBAATA,YAAA,CAAW6E,QAAQ,GAAI,CAAE,CAChCzE,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,UAAU,CAAEgE,QAAQ,CAACtD,CAAC,CAACK,MAAM,CAACb,KAAK,CAAC,EAAI,CAAC,CAAE,CACjE,CAAC,EACC,CAAC,cACNjD,KAAA,QAAKwC,KAAK,CAAE,CAAE+C,IAAI,CAAE,CAAE,CAAE,CAAA7C,QAAA,eACtB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,sCAAM,CAAO,CAAC,cAC1C5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBK,IAAI,CAAC,QAAQ,CACb4C,GAAG,CAAC,GAAG,CACPvC,KAAK,CAAE,EAAAf,YAAA,CAAAE,IAAI,CAACe,IAAI,UAAAjB,YAAA,iBAATA,YAAA,CAAW8E,WAAW,GAAI,CAAE,CACnC3E,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,aAAa,CAAEgE,QAAQ,CAACtD,CAAC,CAACK,MAAM,CAACb,KAAK,CAAC,EAAI,CAAC,CAAE,CACpE,CAAC,EACC,CAAC,EACH,CAAC,cACNjD,KAAA,QAAKuC,SAAS,CAAC,UAAU,CAAAG,QAAA,eACvB5C,IAAA,UAAOyC,SAAS,CAAC,UAAU,CAAAG,QAAA,CAAC,4CAAO,CAAO,CAAC,cAC3C5C,IAAA,UACEyC,SAAS,CAAC,UAAU,CACpBK,IAAI,CAAC,QAAQ,CACb4C,GAAG,CAAC,GAAG,CACPvC,KAAK,CAAE,EAAAd,YAAA,CAAAC,IAAI,CAACe,IAAI,UAAAhB,YAAA,iBAATA,YAAA,CAAW8E,WAAW,GAAI,CAAE,CACnC5E,QAAQ,CAAGoB,CAAC,EAAKV,GAAG,CAAC,aAAa,CAAEgE,QAAQ,CAACtD,CAAC,CAACK,MAAM,CAACb,KAAK,CAAC,EAAI,CAAC,CAAE,CACpE,CAAC,EACC,CAAC,EACH,CAAC,EACN,CACH,EACE,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}