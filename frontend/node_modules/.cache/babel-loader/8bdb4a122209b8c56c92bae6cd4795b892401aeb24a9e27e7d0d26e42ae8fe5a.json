{"ast":null,"code":"import _objectSpread from\"/Users/irina/mvp-trigger/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function StatsTooltip(_ref){let{node,isVisible,position}=_ref;if(!isVisible||!node)return null;// Тестовые данные статистики (в реальном приложении будут приходить с сервера)\nconst getNodeStats=(nodeType,nodeData)=>{const baseStats={passed:40,waiting:3};if(nodeType==='condition'){return _objectSpread(_objectSpread({},baseStats),{},{yesPath:15,noPath:16});}if(nodeType==='action'&&(nodeData===null||nodeData===void 0?void 0:nodeData.actionType)==='stop'){return{passed:40// Для узла \"Остановить цепочку\" показываем только количество прошедших\n};}return baseStats;};const stats=getNodeStats(node.type,node.data);// Позиционирование tooltip с учетом границ экрана\nconst tooltipWidth=200;const tooltipHeight=120;const screenWidth=window.innerWidth;const screenHeight=window.innerHeight;let left=position.x;let top=position.y;let showArrowLeft=false;// Если tooltip выходит за правую границу, показываем слева от узла\nif(left+tooltipWidth>screenWidth-20){left=position.x-tooltipWidth-20;showArrowLeft=true;}// Если tooltip выходит за нижнюю границу, показываем выше\nif(top+tooltipHeight>screenHeight-20){top=position.y-tooltipHeight;}return/*#__PURE__*/_jsxs(\"div\",{className:\"stats-tooltip\",style:{position:'fixed',left:left,top:top,backgroundColor:'rgba(0, 0, 0, 0.9)',color:'white',padding:'12px',borderRadius:'8px',fontSize:'14px',zIndex:1000,minWidth:'200px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.3)',pointerEvents:'none','--arrow-position':showArrowLeft?'left':'right'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',marginBottom:'8px',borderBottom:'1px solid rgba(255, 255, 255, 0.2)',paddingBottom:'4px'},children:\"\\u0421\\u0442\\u0430\\u0442\\u0438\\u0441\\u0442\\u0438\\u043A\\u0430 \\u0443\\u0437\\u043B\\u0430\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#a0aec0'},children:\"\\u041F\\u0440\\u043E\\u0448\\u043B\\u043E \\u0443\\u0437\\u043B\\u043E\\u0432: \"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#48bb78',fontWeight:'600'},children:stats.passed})]}),stats.waiting!==undefined&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#a0aec0'},children:\"\\u0416\\u0434\\u0443\\u0442 \\u0432 \\u0443\\u0437\\u043B\\u0435: \"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#ed8936',fontWeight:'600'},children:stats.waiting})]}),stats.yesPath!==undefined&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#a0aec0'},children:\"\\u0414\\u0430: \"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#48bb78',fontWeight:'600'},children:stats.yesPath})]}),stats.noPath!==undefined&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'6px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#a0aec0'},children:\"\\u041D\\u0435\\u0442: \"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#f56565',fontWeight:'600'},children:stats.noPath})]})]});}","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","StatsTooltip","_ref","node","isVisible","position","getNodeStats","nodeType","nodeData","baseStats","passed","waiting","_objectSpread","yesPath","noPath","actionType","stats","type","data","tooltipWidth","tooltipHeight","screenWidth","window","innerWidth","screenHeight","innerHeight","left","x","top","y","showArrowLeft","className","style","backgroundColor","color","padding","borderRadius","fontSize","zIndex","minWidth","boxShadow","pointerEvents","children","fontWeight","marginBottom","borderBottom","paddingBottom","undefined"],"sources":["/Users/irina/mvp-trigger/frontend/src/components/StatsTooltip.js"],"sourcesContent":["import React from 'react';\n\nexport default function StatsTooltip({ node, isVisible, position }) {\n  if (!isVisible || !node) return null;\n\n  // Тестовые данные статистики (в реальном приложении будут приходить с сервера)\n  const getNodeStats = (nodeType, nodeData) => {\n    const baseStats = {\n      passed: 40,\n      waiting: 3\n    };\n\n    if (nodeType === 'condition') {\n      return {\n        ...baseStats,\n        yesPath: 15,\n        noPath: 16\n      };\n    }\n\n    if (nodeType === 'action' && nodeData?.actionType === 'stop') {\n      return {\n        passed: 40\n        // Для узла \"Остановить цепочку\" показываем только количество прошедших\n      };\n    }\n\n    return baseStats;\n  };\n\n  const stats = getNodeStats(node.type, node.data);\n\n  // Позиционирование tooltip с учетом границ экрана\n  const tooltipWidth = 200;\n  const tooltipHeight = 120;\n  const screenWidth = window.innerWidth;\n  const screenHeight = window.innerHeight;\n  \n  let left = position.x;\n  let top = position.y;\n  let showArrowLeft = false;\n  \n  // Если tooltip выходит за правую границу, показываем слева от узла\n  if (left + tooltipWidth > screenWidth - 20) {\n    left = position.x - tooltipWidth - 20;\n    showArrowLeft = true;\n  }\n  \n  // Если tooltip выходит за нижнюю границу, показываем выше\n  if (top + tooltipHeight > screenHeight - 20) {\n    top = position.y - tooltipHeight;\n  }\n  \n  return (\n    <div \n      className=\"stats-tooltip\"\n      style={{\n        position: 'fixed',\n        left: left,\n        top: top,\n        backgroundColor: 'rgba(0, 0, 0, 0.9)',\n        color: 'white',\n        padding: '12px',\n        borderRadius: '8px',\n        fontSize: '14px',\n        zIndex: 1000,\n        minWidth: '200px',\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n        pointerEvents: 'none',\n        '--arrow-position': showArrowLeft ? 'left' : 'right'\n      }}\n    >\n      <div style={{ fontWeight: '600', marginBottom: '8px', borderBottom: '1px solid rgba(255, 255, 255, 0.2)', paddingBottom: '4px' }}>\n        Статистика узла\n      </div>\n      \n      <div style={{ marginBottom: '6px' }}>\n        <span style={{ color: '#a0aec0' }}>Прошло узлов: </span>\n        <span style={{ color: '#48bb78', fontWeight: '600' }}>{stats.passed}</span>\n      </div>\n      \n      {stats.waiting !== undefined && (\n        <div style={{ marginBottom: '6px' }}>\n          <span style={{ color: '#a0aec0' }}>Ждут в узле: </span>\n          <span style={{ color: '#ed8936', fontWeight: '600' }}>{stats.waiting}</span>\n        </div>\n      )}\n      \n      {stats.yesPath !== undefined && (\n        <div style={{ marginBottom: '6px' }}>\n          <span style={{ color: '#a0aec0' }}>Да: </span>\n          <span style={{ color: '#48bb78', fontWeight: '600' }}>{stats.yesPath}</span>\n        </div>\n      )}\n      \n      {stats.noPath !== undefined && (\n        <div style={{ marginBottom: '6px' }}>\n          <span style={{ color: '#a0aec0' }}>Нет: </span>\n          <span style={{ color: '#f56565', fontWeight: '600' }}>{stats.noPath}</span>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"sHAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAgC,IAA/B,CAAEC,IAAI,CAAEC,SAAS,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAChE,GAAI,CAACE,SAAS,EAAI,CAACD,IAAI,CAAE,MAAO,KAAI,CAEpC;AACA,KAAM,CAAAG,YAAY,CAAGA,CAACC,QAAQ,CAAEC,QAAQ,GAAK,CAC3C,KAAM,CAAAC,SAAS,CAAG,CAChBC,MAAM,CAAE,EAAE,CACVC,OAAO,CAAE,CACX,CAAC,CAED,GAAIJ,QAAQ,GAAK,WAAW,CAAE,CAC5B,OAAAK,aAAA,CAAAA,aAAA,IACKH,SAAS,MACZI,OAAO,CAAE,EAAE,CACXC,MAAM,CAAE,EAAE,GAEd,CAEA,GAAIP,QAAQ,GAAK,QAAQ,EAAI,CAAAC,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEO,UAAU,IAAK,MAAM,CAAE,CAC5D,MAAO,CACLL,MAAM,CAAE,EACR;AACF,CAAC,CACH,CAEA,MAAO,CAAAD,SAAS,CAClB,CAAC,CAED,KAAM,CAAAO,KAAK,CAAGV,YAAY,CAACH,IAAI,CAACc,IAAI,CAAEd,IAAI,CAACe,IAAI,CAAC,CAEhD;AACA,KAAM,CAAAC,YAAY,CAAG,GAAG,CACxB,KAAM,CAAAC,aAAa,CAAG,GAAG,CACzB,KAAM,CAAAC,WAAW,CAAGC,MAAM,CAACC,UAAU,CACrC,KAAM,CAAAC,YAAY,CAAGF,MAAM,CAACG,WAAW,CAEvC,GAAI,CAAAC,IAAI,CAAGrB,QAAQ,CAACsB,CAAC,CACrB,GAAI,CAAAC,GAAG,CAAGvB,QAAQ,CAACwB,CAAC,CACpB,GAAI,CAAAC,aAAa,CAAG,KAAK,CAEzB;AACA,GAAIJ,IAAI,CAAGP,YAAY,CAAGE,WAAW,CAAG,EAAE,CAAE,CAC1CK,IAAI,CAAGrB,QAAQ,CAACsB,CAAC,CAAGR,YAAY,CAAG,EAAE,CACrCW,aAAa,CAAG,IAAI,CACtB,CAEA;AACA,GAAIF,GAAG,CAAGR,aAAa,CAAGI,YAAY,CAAG,EAAE,CAAE,CAC3CI,GAAG,CAAGvB,QAAQ,CAACwB,CAAC,CAAGT,aAAa,CAClC,CAEA,mBACEpB,KAAA,QACE+B,SAAS,CAAC,eAAe,CACzBC,KAAK,CAAE,CACL3B,QAAQ,CAAE,OAAO,CACjBqB,IAAI,CAAEA,IAAI,CACVE,GAAG,CAAEA,GAAG,CACRK,eAAe,CAAE,oBAAoB,CACrCC,KAAK,CAAE,OAAO,CACdC,OAAO,CAAE,MAAM,CACfC,YAAY,CAAE,KAAK,CACnBC,QAAQ,CAAE,MAAM,CAChBC,MAAM,CAAE,IAAI,CACZC,QAAQ,CAAE,OAAO,CACjBC,SAAS,CAAE,+BAA+B,CAC1CC,aAAa,CAAE,MAAM,CACrB,kBAAkB,CAAEX,aAAa,CAAG,MAAM,CAAG,OAC/C,CAAE,CAAAY,QAAA,eAEF5C,IAAA,QAAKkC,KAAK,CAAE,CAAEW,UAAU,CAAE,KAAK,CAAEC,YAAY,CAAE,KAAK,CAAEC,YAAY,CAAE,oCAAoC,CAAEC,aAAa,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAC,uFAElI,CAAK,CAAC,cAEN1C,KAAA,QAAKgC,KAAK,CAAE,CAAEY,YAAY,CAAE,KAAM,CAAE,CAAAF,QAAA,eAClC5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,CAAAQ,QAAA,CAAC,uEAAc,CAAM,CAAC,cACxD5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAS,CAAES,UAAU,CAAE,KAAM,CAAE,CAAAD,QAAA,CAAE1B,KAAK,CAACN,MAAM,CAAO,CAAC,EACxE,CAAC,CAELM,KAAK,CAACL,OAAO,GAAKoC,SAAS,eAC1B/C,KAAA,QAAKgC,KAAK,CAAE,CAAEY,YAAY,CAAE,KAAM,CAAE,CAAAF,QAAA,eAClC5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,CAAAQ,QAAA,CAAC,4DAAa,CAAM,CAAC,cACvD5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAS,CAAES,UAAU,CAAE,KAAM,CAAE,CAAAD,QAAA,CAAE1B,KAAK,CAACL,OAAO,CAAO,CAAC,EACzE,CACN,CAEAK,KAAK,CAACH,OAAO,GAAKkC,SAAS,eAC1B/C,KAAA,QAAKgC,KAAK,CAAE,CAAEY,YAAY,CAAE,KAAM,CAAE,CAAAF,QAAA,eAClC5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,CAAAQ,QAAA,CAAC,gBAAI,CAAM,CAAC,cAC9C5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAS,CAAES,UAAU,CAAE,KAAM,CAAE,CAAAD,QAAA,CAAE1B,KAAK,CAACH,OAAO,CAAO,CAAC,EACzE,CACN,CAEAG,KAAK,CAACF,MAAM,GAAKiC,SAAS,eACzB/C,KAAA,QAAKgC,KAAK,CAAE,CAAEY,YAAY,CAAE,KAAM,CAAE,CAAAF,QAAA,eAClC5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAU,CAAE,CAAAQ,QAAA,CAAC,sBAAK,CAAM,CAAC,cAC/C5C,IAAA,SAAMkC,KAAK,CAAE,CAAEE,KAAK,CAAE,SAAS,CAAES,UAAU,CAAE,KAAM,CAAE,CAAAD,QAAA,CAAE1B,KAAK,CAACF,MAAM,CAAO,CAAC,EACxE,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}